(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Oa(e,t){const n=new Set(e.split(","));return t?r=>n.has(r.toLowerCase()):r=>n.has(r)}const mt={},Gn=[],pe=()=>{},$p=()=>!1,Ei=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ka=e=>e.startsWith("onUpdate:"),Ut=Object.assign,Ma=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},qp=Object.prototype.hasOwnProperty,nt=(e,t)=>qp.call(e,t),H=Array.isArray,Wn=e=>Ti(e)==="[object Map]",oh=e=>Ti(e)==="[object Set]",Q=e=>typeof e=="function",bt=e=>typeof e=="string",dr=e=>typeof e=="symbol",wt=e=>e!==null&&typeof e=="object",ah=e=>(wt(e)||Q(e))&&Q(e.then)&&Q(e.catch),ch=Object.prototype.toString,Ti=e=>ch.call(e),Hp=e=>Ti(e).slice(8,-1),lh=e=>Ti(e)==="[object Object]",La=e=>bt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,$s=Oa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wi=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},zp=/-(\w)/g,Ne=wi(e=>e.replace(zp,(t,n)=>n?n.toUpperCase():"")),Kp=/\B([A-Z])/g,pr=wi(e=>e.replace(Kp,"-$1").toLowerCase()),Ii=wi(e=>e.charAt(0).toUpperCase()+e.slice(1)),uo=wi(e=>e?`on${Ii(e)}`:""),an=(e,t)=>!Object.is(e,t),qs=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Xs=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Uo=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let rl;const uh=()=>rl||(rl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Fa(e){if(H(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=bt(r)?Yp(r):Fa(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(bt(e)||wt(e))return e}const Gp=/;(?![^(]*\))/g,Wp=/:([^]+)/,Qp=/\/\*[^]*?\*\//g;function Yp(e){const t={};return e.replace(Qp,"").split(Gp).forEach(n=>{if(n){const r=n.split(Wp);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ba(e){let t="";if(bt(e))t=e;else if(H(e))for(let n=0;n<e.length;n++){const r=Ba(e[n]);r&&(t+=r+" ")}else if(wt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Xp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Jp=Oa(Xp);function hh(e){return!!e||e===""}const Ua=e=>bt(e)?e:e==null?"":H(e)||wt(e)&&(e.toString===ch||!Q(e.toString))?JSON.stringify(e,fh,2):String(e),fh=(e,t)=>t&&t.__v_isRef?fh(e,t.value):Wn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[ho(r,i)+" =>"]=s,n),{})}:oh(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>ho(n))}:dr(t)?ho(t):wt(t)&&!H(t)&&!lh(t)?String(t):t,ho=(e,t="")=>{var n;return dr(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ae;class dh{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ae,!t&&ae&&(this.index=(ae.scopes||(ae.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=ae;try{return ae=this,t()}finally{ae=n}}}on(){ae=this}off(){ae=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function ph(e){return new dh(e)}function Zp(e,t=ae){t&&t.active&&t.effects.push(e)}function gh(){return ae}function tg(e){ae&&ae.cleanups.push(e)}let An;class ja{constructor(t,n,r,s){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=2,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Zp(this,s)}get dirty(){if(this._dirtyLevel===1){Nn();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(eg(n.computed),this._dirtyLevel>=2))break}this._dirtyLevel<2&&(this._dirtyLevel=0),On()}return this._dirtyLevel>=2}set dirty(t){this._dirtyLevel=t?2:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=tn,n=An;try{return tn=!0,An=this,this._runnings++,sl(this),this.fn()}finally{il(this),this._runnings--,An=n,tn=t}}stop(){var t;this.active&&(sl(this),il(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function eg(e){return e.value}function sl(e){e._trackId++,e._depsLength=0}function il(e){if(e.deps&&e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)mh(e.deps[t],e);e.deps.length=e._depsLength}}function mh(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let tn=!0,jo=0;const _h=[];function Nn(){_h.push(tn),tn=!1}function On(){const e=_h.pop();tn=e===void 0?!0:e}function $a(){jo++}function qa(){for(jo--;!jo&&$o.length;)$o.shift()()}function yh(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&mh(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const $o=[];function vh(e,t,n){$a();for(const r of e.keys())if(r._dirtyLevel<t&&e.get(r)===r._trackId){const s=r._dirtyLevel;r._dirtyLevel=t,s===0&&(r._shouldSchedule=!0,r.trigger())}Eh(e),qa()}function Eh(e){for(const t of e.keys())t.scheduler&&t._shouldSchedule&&(!t._runnings||t.allowRecurse)&&e.get(t)===t._trackId&&(t._shouldSchedule=!1,$o.push(t.scheduler))}const Th=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Js=new WeakMap,Rn=Symbol(""),qo=Symbol("");function se(e,t,n){if(tn&&An){let r=Js.get(e);r||Js.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=Th(()=>r.delete(n))),yh(An,s)}}function Ue(e,t,n,r,s,i){const o=Js.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&H(e)){const c=Number(r);o.forEach((l,u)=>{(u==="length"||!dr(u)&&u>=c)&&a.push(l)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":H(e)?La(n)&&a.push(o.get("length")):(a.push(o.get(Rn)),Wn(e)&&a.push(o.get(qo)));break;case"delete":H(e)||(a.push(o.get(Rn)),Wn(e)&&a.push(o.get(qo)));break;case"set":Wn(e)&&a.push(o.get(Rn));break}$a();for(const c of a)c&&vh(c,2);qa()}function ng(e,t){var n;return(n=Js.get(e))==null?void 0:n.get(t)}const rg=Oa("__proto__,__v_isRef,__isVue"),wh=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(dr)),ol=sg();function sg(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=it(this);for(let i=0,o=this.length;i<o;i++)se(r,"get",i+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(it)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Nn(),$a();const r=it(this)[t].apply(this,n);return qa(),On(),r}}),e}function ig(e){const t=it(this);return se(t,"has",e),t.hasOwnProperty(e)}class Ih{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,r){const s=this._isReadonly,i=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?yg:Sh:i?Ch:Rh).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=H(t);if(!s){if(o&&nt(ol,n))return Reflect.get(ol,n,r);if(n==="hasOwnProperty")return ig}const a=Reflect.get(t,n,r);return(dr(n)?wh.has(n):rg(n))||(s||se(t,"get",n),i)?a:Vt(a)?o&&La(n)?a:a.value:wt(a)?s?bh(a):ds(a):a}}class Ah extends Ih{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(!this._shallow){const c=nr(i);if(!Zs(r)&&!nr(r)&&(i=it(i),r=it(r)),!H(t)&&Vt(i)&&!Vt(r))return c?!1:(i.value=r,!0)}const o=H(t)&&La(n)?Number(n)<t.length:nt(t,n),a=Reflect.set(t,n,r,s);return t===it(s)&&(o?an(r,i)&&Ue(t,"set",n,r):Ue(t,"add",n,r)),a}deleteProperty(t,n){const r=nt(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&Ue(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!dr(n)||!wh.has(n))&&se(t,"has",n),r}ownKeys(t){return se(t,"iterate",H(t)?"length":Rn),Reflect.ownKeys(t)}}class og extends Ih{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const ag=new Ah,cg=new og,lg=new Ah(!0),Ha=e=>e,Ai=e=>Reflect.getPrototypeOf(e);function Ps(e,t,n=!1,r=!1){e=e.__v_raw;const s=it(e),i=it(t);n||(an(t,i)&&se(s,"get",t),se(s,"get",i));const{has:o}=Ai(s),a=r?Ha:n?Ga:zr;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function bs(e,t=!1){const n=this.__v_raw,r=it(n),s=it(e);return t||(an(e,s)&&se(r,"has",e),se(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Vs(e,t=!1){return e=e.__v_raw,!t&&se(it(e),"iterate",Rn),Reflect.get(e,"size",e)}function al(e){e=it(e);const t=it(this);return Ai(t).has.call(t,e)||(t.add(e),Ue(t,"add",e,e)),this}function cl(e,t){t=it(t);const n=it(this),{has:r,get:s}=Ai(n);let i=r.call(n,e);i||(e=it(e),i=r.call(n,e));const o=s.call(n,e);return n.set(e,t),i?an(t,o)&&Ue(n,"set",e,t):Ue(n,"add",e,t),this}function ll(e){const t=it(this),{has:n,get:r}=Ai(t);let s=n.call(t,e);s||(e=it(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&Ue(t,"delete",e,void 0),i}function ul(){const e=it(this),t=e.size!==0,n=e.clear();return t&&Ue(e,"clear",void 0,void 0),n}function Ds(e,t){return function(r,s){const i=this,o=i.__v_raw,a=it(o),c=t?Ha:e?Ga:zr;return!e&&se(a,"iterate",Rn),o.forEach((l,u)=>r.call(s,c(l),c(u),i))}}function xs(e,t,n){return function(...r){const s=this.__v_raw,i=it(s),o=Wn(i),a=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,l=s[e](...r),u=n?Ha:t?Ga:zr;return!t&&se(i,"iterate",c?qo:Rn),{next(){const{value:h,done:d}=l.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function ze(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ug(){const e={get(i){return Ps(this,i)},get size(){return Vs(this)},has:bs,add:al,set:cl,delete:ll,clear:ul,forEach:Ds(!1,!1)},t={get(i){return Ps(this,i,!1,!0)},get size(){return Vs(this)},has:bs,add:al,set:cl,delete:ll,clear:ul,forEach:Ds(!1,!0)},n={get(i){return Ps(this,i,!0)},get size(){return Vs(this,!0)},has(i){return bs.call(this,i,!0)},add:ze("add"),set:ze("set"),delete:ze("delete"),clear:ze("clear"),forEach:Ds(!0,!1)},r={get(i){return Ps(this,i,!0,!0)},get size(){return Vs(this,!0)},has(i){return bs.call(this,i,!0)},add:ze("add"),set:ze("set"),delete:ze("delete"),clear:ze("clear"),forEach:Ds(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=xs(i,!1,!1),n[i]=xs(i,!0,!1),t[i]=xs(i,!1,!0),r[i]=xs(i,!0,!0)}),[e,n,t,r]}const[hg,fg,dg,pg]=ug();function za(e,t){const n=t?e?pg:dg:e?fg:hg;return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(nt(n,s)&&s in r?n:r,s,i)}const gg={get:za(!1,!1)},mg={get:za(!1,!0)},_g={get:za(!0,!1)},Rh=new WeakMap,Ch=new WeakMap,Sh=new WeakMap,yg=new WeakMap;function vg(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Eg(e){return e.__v_skip||!Object.isExtensible(e)?0:vg(Hp(e))}function ds(e){return nr(e)?e:Ka(e,!1,ag,gg,Rh)}function Ph(e){return Ka(e,!1,lg,mg,Ch)}function bh(e){return Ka(e,!0,cg,_g,Sh)}function Ka(e,t,n,r,s){if(!wt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=Eg(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function en(e){return nr(e)?en(e.__v_raw):!!(e&&e.__v_isReactive)}function nr(e){return!!(e&&e.__v_isReadonly)}function Zs(e){return!!(e&&e.__v_isShallow)}function Vh(e){return en(e)||nr(e)}function it(e){const t=e&&e.__v_raw;return t?it(t):e}function Ri(e){return Xs(e,"__v_skip",!0),e}const zr=e=>wt(e)?ds(e):e,Ga=e=>wt(e)?bh(e):e;class Dh{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new ja(()=>t(this._value),()=>Hs(this,1),()=>this.dep&&Eh(this.dep)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=it(this);return(!t._cacheable||t.effect.dirty)&&an(t._value,t._value=t.effect.run())&&Hs(t,2),xh(t),t.effect._dirtyLevel>=1&&Hs(t,1),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Tg(e,t,n=!1){let r,s;const i=Q(e);return i?(r=e,s=pe):(r=e.get,s=e.set),new Dh(r,s,i||!s,n)}function xh(e){tn&&An&&(e=it(e),yh(An,e.dep||(e.dep=Th(()=>e.dep=void 0,e instanceof Dh?e:void 0))))}function Hs(e,t=2,n){e=it(e);const r=e.dep;r&&vh(r,t)}function Vt(e){return!!(e&&e.__v_isRef===!0)}function Wa(e){return Nh(e,!1)}function wg(e){return Nh(e,!0)}function Nh(e,t){return Vt(e)?e:new Ig(e,t)}class Ig{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:it(t),this._value=n?t:zr(t)}get value(){return xh(this),this._value}set value(t){const n=this.__v_isShallow||Zs(t)||nr(t);t=n?t:it(t),an(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:zr(t),Hs(this,2))}}function Cn(e){return Vt(e)?e.value:e}const Ag={get:(e,t,n)=>Cn(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return Vt(s)&&!Vt(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function Oh(e){return en(e)?e:new Proxy(e,Ag)}function Rg(e){const t=H(e)?new Array(e.length):{};for(const n in e)t[n]=Sg(e,n);return t}class Cg{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return ng(it(this._object),this._key)}}function Sg(e,t,n){const r=e[t];return Vt(r)?r:new Cg(e,t,n)}/**
* @vue/runtime-core v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function nn(e,t,n,r){let s;try{s=r?e(...r):e()}catch(i){Ci(i,t,n)}return s}function _e(e,t,n,r){if(Q(e)){const i=nn(e,t,n,r);return i&&ah(i)&&i.catch(o=>{Ci(o,t,n)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(_e(e[i],t,n,r));return s}function Ci(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const l=i.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](e,o,a)===!1)return}i=i.parent}const c=t.appContext.config.errorHandler;if(c){nn(c,null,10,[e,o,a]);return}}Pg(e,n,s,r)}function Pg(e,t,n,r=!0){console.error(e)}let Kr=!1,Ho=!1;const Kt=[];let Ce=0;const Qn=[];let We=null,_n=0;const kh=Promise.resolve();let Qa=null;function Ya(e){const t=Qa||kh;return e?t.then(this?e.bind(this):e):t}function bg(e){let t=Ce+1,n=Kt.length;for(;t<n;){const r=t+n>>>1,s=Kt[r],i=Gr(s);i<e||i===e&&s.pre?t=r+1:n=r}return t}function Xa(e){(!Kt.length||!Kt.includes(e,Kr&&e.allowRecurse?Ce+1:Ce))&&(e.id==null?Kt.push(e):Kt.splice(bg(e.id),0,e),Mh())}function Mh(){!Kr&&!Ho&&(Ho=!0,Qa=kh.then(Fh))}function Vg(e){const t=Kt.indexOf(e);t>Ce&&Kt.splice(t,1)}function Dg(e){H(e)?Qn.push(...e):(!We||!We.includes(e,e.allowRecurse?_n+1:_n))&&Qn.push(e),Mh()}function hl(e,t,n=Kr?Ce+1:0){for(;n<Kt.length;n++){const r=Kt[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;Kt.splice(n,1),n--,r()}}}function Lh(e){if(Qn.length){const t=[...new Set(Qn)].sort((n,r)=>Gr(n)-Gr(r));if(Qn.length=0,We){We.push(...t);return}for(We=t,_n=0;_n<We.length;_n++)We[_n]();We=null,_n=0}}const Gr=e=>e.id==null?1/0:e.id,xg=(e,t)=>{const n=Gr(e)-Gr(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Fh(e){Ho=!1,Kr=!0,Kt.sort(xg);try{for(Ce=0;Ce<Kt.length;Ce++){const t=Kt[Ce];t&&t.active!==!1&&nn(t,null,14)}}finally{Ce=0,Kt.length=0,Lh(),Kr=!1,Qa=null,(Kt.length||Qn.length)&&Fh()}}function Ng(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||mt;let s=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:d}=r[u]||mt;d&&(s=n.map(g=>bt(g)?g.trim():g)),h&&(s=n.map(Uo))}let a,c=r[a=uo(t)]||r[a=uo(Ne(t))];!c&&i&&(c=r[a=uo(pr(t))]),c&&_e(c,e,6,s);const l=r[a+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,_e(l,e,6,s)}}function Bh(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!Q(e)){const c=l=>{const u=Bh(l,t,!0);u&&(a=!0,Ut(o,u))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!a?(wt(e)&&r.set(e,null),null):(H(i)?i.forEach(c=>o[c]=null):Ut(o,i),wt(e)&&r.set(e,o),o)}function Si(e,t){return!e||!Ei(t)?!1:(t=t.slice(2).replace(/Once$/,""),nt(e,t[0].toLowerCase()+t.slice(1))||nt(e,pr(t))||nt(e,t))}let Jt=null,Pi=null;function ti(e){const t=Jt;return Jt=e,Pi=e&&e.type.__scopeId||null,t}function Og(e){Pi=e}function kg(){Pi=null}function Uh(e,t=Jt,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&wl(-1);const i=ti(t);let o;try{o=e(...s)}finally{ti(i),r._d&&wl(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function fo(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:h,data:d,setupState:g,ctx:w,inheritAttrs:S}=e;let I,N;const F=ti(e);try{if(n.shapeFlag&4){const W=s||r,X=W;I=Re(u.call(X,W,h,i,g,d,w)),N=c}else{const W=t;I=Re(W.length>1?W(i,{attrs:c,slots:a,emit:l}):W(i,null)),N=t.props?c:Mg(c)}}catch(W){kr.length=0,Ci(W,e,1),I=ne(Qr)}let U=I;if(N&&S!==!1){const W=Object.keys(N),{shapeFlag:X}=U;W.length&&X&7&&(o&&W.some(ka)&&(N=Lg(N,o)),U=rr(U,N))}return n.dirs&&(U=rr(U),U.dirs=U.dirs?U.dirs.concat(n.dirs):n.dirs),n.transition&&(U.transition=n.transition),I=U,ti(F),I}const Mg=e=>{let t;for(const n in e)(n==="class"||n==="style"||Ei(n))&&((t||(t={}))[n]=e[n]);return t},Lg=(e,t)=>{const n={};for(const r in e)(!ka(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Fg(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:c}=t,l=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?fl(r,o,l):!!o;if(c&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==r[d]&&!Si(l,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?fl(r,o,l):!0:!!o;return!1}function fl(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Si(n,i))return!0}return!1}function Bg({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const jh="components";function Ja(e,t){return jg(jh,e,!0,t)||e}const Ug=Symbol.for("v-ndc");function jg(e,t,n=!0,r=!1){const s=Jt||Lt;if(s){const i=s.type;if(e===jh){const a=Fm(i,!1);if(a&&(a===t||a===Ne(t)||a===Ii(Ne(t))))return i}const o=dl(s[e]||i[e],t)||dl(s.appContext[e],t);return!o&&r?i:o}}function dl(e,t){return e&&(e[t]||e[Ne(t)]||e[Ii(Ne(t))])}const $g=e=>e.__isSuspense;function qg(e,t){t&&t.pendingBranch?H(e)?t.effects.push(...e):t.effects.push(e):Dg(e)}const Hg=Symbol.for("v-scx"),zg=()=>ye(Hg),Ns={};function Nr(e,t,n){return $h(e,t,n)}function $h(e,t,{immediate:n,deep:r,flush:s,once:i,onTrack:o,onTrigger:a}=mt){if(t&&i){const q=t;t=(...gt)=>{q(...gt),X()}}const c=Lt,l=q=>r===!0?q:vn(q,r===!1?1:void 0);let u,h=!1,d=!1;if(Vt(e)?(u=()=>e.value,h=Zs(e)):en(e)?(u=()=>l(e),h=!0):H(e)?(d=!0,h=e.some(q=>en(q)||Zs(q)),u=()=>e.map(q=>{if(Vt(q))return q.value;if(en(q))return l(q);if(Q(q))return nn(q,c,2)})):Q(e)?t?u=()=>nn(e,c,2):u=()=>(g&&g(),_e(e,c,3,[w])):u=pe,t&&r){const q=u;u=()=>vn(q())}let g,w=q=>{g=U.onStop=()=>{nn(q,c,4),g=U.onStop=void 0}},S;if(xi)if(w=pe,t?n&&_e(t,c,3,[u(),d?[]:void 0,w]):u(),s==="sync"){const q=zg();S=q.__watcherHandles||(q.__watcherHandles=[])}else return pe;let I=d?new Array(e.length).fill(Ns):Ns;const N=()=>{if(!(!U.active||!U.dirty))if(t){const q=U.run();(r||h||(d?q.some((gt,J)=>an(gt,I[J])):an(q,I)))&&(g&&g(),_e(t,c,3,[q,I===Ns?void 0:d&&I[0]===Ns?[]:I,w]),I=q)}else U.run()};N.allowRecurse=!!t;let F;s==="sync"?F=N:s==="post"?F=()=>ee(N,c&&c.suspense):(N.pre=!0,c&&(N.id=c.uid),F=()=>Xa(N));const U=new ja(u,pe,F),W=gh(),X=()=>{U.stop(),W&&Ma(W.effects,U)};return t?n?N():I=U.run():s==="post"?ee(U.run.bind(U),c&&c.suspense):U.run(),S&&S.push(X),X}function Kg(e,t,n){const r=this.proxy,s=bt(e)?e.includes(".")?qh(r,e):()=>r[e]:e.bind(r,r);let i;Q(t)?i=t:(i=t.handler,n=t);const o=ps(this),a=$h(s,i.bind(r),n);return o(),a}function qh(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function vn(e,t,n=0,r){if(!wt(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(r=r||new Set,r.has(e))return e;if(r.add(e),Vt(e))vn(e.value,t,n,r);else if(H(e))for(let s=0;s<e.length;s++)vn(e[s],t,n,r);else if(oh(e)||Wn(e))e.forEach(s=>{vn(s,t,n,r)});else if(lh(e))for(const s in e)vn(e[s],t,n,r);return e}function Gg(e,t){if(Jt===null)return e;const n=Ni(Jt)||Jt.proxy,r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,o,a,c=mt]=t[s];i&&(Q(i)&&(i={mounted:i,updated:i}),i.deep&&vn(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:c}))}return e}function pn(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[r];c&&(Nn(),_e(c,n,8,[e.el,a,e,t]),On())}}/*! #__NO_SIDE_EFFECTS__ */function Hh(e,t){return Q(e)?Ut({name:e.name},t,{setup:e}):e}const zs=e=>!!e.type.__asyncLoader,zh=e=>e.type.__isKeepAlive;function Wg(e,t){Kh(e,"a",t)}function Qg(e,t){Kh(e,"da",t)}function Kh(e,t,n=Lt){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(bi(t,r,n),n){let s=n.parent;for(;s&&s.parent;)zh(s.parent.vnode)&&Yg(r,t,n,s),s=s.parent}}function Yg(e,t,n,r){const s=bi(t,e,r,!0);Gh(()=>{Ma(r[t],s)},n)}function bi(e,t,n=Lt,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;Nn();const a=ps(n),c=_e(t,n,e,o);return a(),On(),c});return r?s.unshift(i):s.push(i),i}}const qe=e=>(t,n=Lt)=>(!xi||e==="sp")&&bi(e,(...r)=>t(...r),n),Xg=qe("bm"),Jg=qe("m"),Zg=qe("bu"),tm=qe("u"),em=qe("bum"),Gh=qe("um"),nm=qe("sp"),rm=qe("rtg"),sm=qe("rtc");function im(e,t=Lt){bi("ec",e,t)}function om(e,t,n,r){let s;const i=n&&n[r];if(H(e)||bt(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i&&i[o])}else if(wt(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,i&&i[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const l=o[a];s[a]=t(e[l],l,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}const zo=e=>e?af(e)?Ni(e)||e.proxy:zo(e.parent):null,Or=Ut(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>zo(e.parent),$root:e=>zo(e.root),$emit:e=>e.emit,$options:e=>Za(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,Xa(e.update)}),$nextTick:e=>e.n||(e.n=Ya.bind(e.proxy)),$watch:e=>Kg.bind(e)}),po=(e,t)=>e!==mt&&!e.__isScriptSetup&&nt(e,t),am={get({_:e},t){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:c}=e;let l;if(t[0]!=="$"){const g=o[t];if(g!==void 0)switch(g){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(po(r,t))return o[t]=1,r[t];if(s!==mt&&nt(s,t))return o[t]=2,s[t];if((l=e.propsOptions[0])&&nt(l,t))return o[t]=3,i[t];if(n!==mt&&nt(n,t))return o[t]=4,n[t];Ko&&(o[t]=0)}}const u=Or[t];let h,d;if(u)return t==="$attrs"&&se(e,"get",t),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==mt&&nt(n,t))return o[t]=4,n[t];if(d=c.config.globalProperties,nt(d,t))return d[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return po(s,t)?(s[t]=n,!0):r!==mt&&nt(r,t)?(r[t]=n,!0):nt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==mt&&nt(e,o)||po(t,o)||(a=i[0])&&nt(a,o)||nt(r,o)||nt(Or,o)||nt(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:nt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function pl(e){return H(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Ko=!0;function cm(e){const t=Za(e),n=e.proxy,r=e.ctx;Ko=!1,t.beforeCreate&&gl(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:h,mounted:d,beforeUpdate:g,updated:w,activated:S,deactivated:I,beforeDestroy:N,beforeUnmount:F,destroyed:U,unmounted:W,render:X,renderTracked:q,renderTriggered:gt,errorCaptured:J,serverPrefetch:tt,expose:yt,inheritAttrs:jt,components:ie,directives:ue,filters:dn}=t;if(l&&lm(l,r,null),o)for(const dt in o){const ct=o[dt];Q(ct)&&(r[dt]=ct.bind(n))}if(s){const dt=s.call(n,n);wt(dt)&&(e.data=ds(dt))}if(Ko=!0,i)for(const dt in i){const ct=i[dt],Le=Q(ct)?ct.bind(n,n):Q(ct.get)?ct.get.bind(n,n):pe,He=!Q(ct)&&Q(ct.set)?ct.set.bind(n):pe,Te=fe({get:Le,set:He});Object.defineProperty(r,dt,{enumerable:!0,configurable:!0,get:()=>Te.value,set:te=>Te.value=te})}if(a)for(const dt in a)Wh(a[dt],r,n,dt);if(c){const dt=Q(c)?c.call(n):c;Reflect.ownKeys(dt).forEach(ct=>{Ks(ct,dt[ct])})}u&&gl(u,e,"c");function at(dt,ct){H(ct)?ct.forEach(Le=>dt(Le.bind(n))):ct&&dt(ct.bind(n))}if(at(Xg,h),at(Jg,d),at(Zg,g),at(tm,w),at(Wg,S),at(Qg,I),at(im,J),at(sm,q),at(rm,gt),at(em,F),at(Gh,W),at(nm,tt),H(yt))if(yt.length){const dt=e.exposed||(e.exposed={});yt.forEach(ct=>{Object.defineProperty(dt,ct,{get:()=>n[ct],set:Le=>n[ct]=Le})})}else e.exposed||(e.exposed={});X&&e.render===pe&&(e.render=X),jt!=null&&(e.inheritAttrs=jt),ie&&(e.components=ie),ue&&(e.directives=ue)}function lm(e,t,n=pe){H(e)&&(e=Go(e));for(const r in e){const s=e[r];let i;wt(s)?"default"in s?i=ye(s.from||r,s.default,!0):i=ye(s.from||r):i=ye(s),Vt(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function gl(e,t,n){_e(H(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Wh(e,t,n,r){const s=r.includes(".")?qh(n,r):()=>n[r];if(bt(e)){const i=t[e];Q(i)&&Nr(s,i)}else if(Q(e))Nr(s,e.bind(n));else if(wt(e))if(H(e))e.forEach(i=>Wh(i,t,n,r));else{const i=Q(e.handler)?e.handler.bind(n):t[e.handler];Q(i)&&Nr(s,i,e)}}function Za(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let c;return a?c=a:!s.length&&!n&&!r?c=t:(c={},s.length&&s.forEach(l=>ei(c,l,o,!0)),ei(c,t,o)),wt(t)&&i.set(t,c),c}function ei(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&ei(e,i,n,!0),s&&s.forEach(o=>ei(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=um[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const um={data:ml,props:_l,emits:_l,methods:Sr,computed:Sr,beforeCreate:Yt,created:Yt,beforeMount:Yt,mounted:Yt,beforeUpdate:Yt,updated:Yt,beforeDestroy:Yt,beforeUnmount:Yt,destroyed:Yt,unmounted:Yt,activated:Yt,deactivated:Yt,errorCaptured:Yt,serverPrefetch:Yt,components:Sr,directives:Sr,watch:fm,provide:ml,inject:hm};function ml(e,t){return t?e?function(){return Ut(Q(e)?e.call(this,this):e,Q(t)?t.call(this,this):t)}:t:e}function hm(e,t){return Sr(Go(e),Go(t))}function Go(e){if(H(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Yt(e,t){return e?[...new Set([].concat(e,t))]:t}function Sr(e,t){return e?Ut(Object.create(null),e,t):t}function _l(e,t){return e?H(e)&&H(t)?[...new Set([...e,...t])]:Ut(Object.create(null),pl(e),pl(t??{})):t}function fm(e,t){if(!e)return t;if(!t)return e;const n=Ut(Object.create(null),e);for(const r in t)n[r]=Yt(e[r],t[r]);return n}function Qh(){return{app:null,config:{isNativeTag:$p,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dm=0;function pm(e,t){return function(r,s=null){Q(r)||(r=Ut({},r)),s!=null&&!wt(s)&&(s=null);const i=Qh(),o=new WeakSet;let a=!1;const c=i.app={_uid:dm++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:Um,get config(){return i.config},set config(l){},use(l,...u){return o.has(l)||(l&&Q(l.install)?(o.add(l),l.install(c,...u)):Q(l)&&(o.add(l),l(c,...u))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,u){return u?(i.components[l]=u,c):i.components[l]},directive(l,u){return u?(i.directives[l]=u,c):i.directives[l]},mount(l,u,h){if(!a){const d=ne(r,s);return d.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),u&&t?t(d,l):e(d,l,h),a=!0,c._container=l,l.__vue_app__=c,Ni(d.component)||d.component.proxy}},unmount(){a&&(e(null,c._container),delete c._container.__vue_app__)},provide(l,u){return i.provides[l]=u,c},runWithContext(l){Wr=c;try{return l()}finally{Wr=null}}};return c}}let Wr=null;function Ks(e,t){if(Lt){let n=Lt.provides;const r=Lt.parent&&Lt.parent.provides;r===n&&(n=Lt.provides=Object.create(r)),n[e]=t}}function ye(e,t,n=!1){const r=Lt||Jt;if(r||Wr){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Wr._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Q(t)?t.call(r&&r.proxy):t}}function gm(){return!!(Lt||Jt||Wr)}function mm(e,t,n,r=!1){const s={},i={};Xs(i,Di,1),e.propsDefaults=Object.create(null),Yh(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:Ph(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function _m(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=it(s),[c]=e.propsOptions;let l=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(Si(e.emitsOptions,d))continue;const g=t[d];if(c)if(nt(i,d))g!==i[d]&&(i[d]=g,l=!0);else{const w=Ne(d);s[w]=Wo(c,a,w,g,e,!1)}else g!==i[d]&&(i[d]=g,l=!0)}}}else{Yh(e,t,s,i)&&(l=!0);let u;for(const h in a)(!t||!nt(t,h)&&((u=pr(h))===h||!nt(t,u)))&&(c?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=Wo(c,a,h,void 0,e,!0)):delete s[h]);if(i!==a)for(const h in i)(!t||!nt(t,h))&&(delete i[h],l=!0)}l&&Ue(e,"set","$attrs")}function Yh(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let c in t){if($s(c))continue;const l=t[c];let u;s&&nt(s,u=Ne(c))?!i||!i.includes(u)?n[u]=l:(a||(a={}))[u]=l:Si(e.emitsOptions,c)||(!(c in r)||l!==r[c])&&(r[c]=l,o=!0)}if(i){const c=it(n),l=a||mt;for(let u=0;u<i.length;u++){const h=i[u];n[h]=Wo(s,c,h,l[h],e,!nt(l,h))}}return o}function Wo(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=nt(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&Q(c)){const{propsDefaults:l}=s;if(n in l)r=l[n];else{const u=ps(s);r=l[n]=c.call(null,t),u()}}else r=c}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===pr(n))&&(r=!0))}return r}function Xh(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let c=!1;if(!Q(e)){const u=h=>{c=!0;const[d,g]=Xh(h,t,!0);Ut(o,d),g&&a.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!c)return wt(e)&&r.set(e,Gn),Gn;if(H(i))for(let u=0;u<i.length;u++){const h=Ne(i[u]);yl(h)&&(o[h]=mt)}else if(i)for(const u in i){const h=Ne(u);if(yl(h)){const d=i[u],g=o[h]=H(d)||Q(d)?{type:d}:Ut({},d);if(g){const w=Tl(Boolean,g.type),S=Tl(String,g.type);g[0]=w>-1,g[1]=S<0||w<S,(w>-1||nt(g,"default"))&&a.push(h)}}}const l=[o,a];return wt(e)&&r.set(e,l),l}function yl(e){return e[0]!=="$"}function vl(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function El(e,t){return vl(e)===vl(t)}function Tl(e,t){return H(t)?t.findIndex(n=>El(n,e)):Q(t)&&El(t,e)?0:-1}const Jh=e=>e[0]==="_"||e==="$stable",tc=e=>H(e)?e.map(Re):[Re(e)],ym=(e,t,n)=>{if(t._n)return t;const r=Uh((...s)=>tc(t(...s)),n);return r._c=!1,r},Zh=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Jh(s))continue;const i=e[s];if(Q(i))t[s]=ym(s,i,r);else if(i!=null){const o=tc(i);t[s]=()=>o}}},tf=(e,t)=>{const n=tc(t);e.slots.default=()=>n},vm=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=it(t),Xs(t,"_",n)):Zh(t,e.slots={})}else e.slots={},t&&tf(e,t);Xs(e.slots,Di,1)},Em=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=mt;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:(Ut(s,t),!n&&a===1&&delete s._):(i=!t.$stable,Zh(t,s)),o=t}else t&&(tf(e,t),o={default:1});if(i)for(const a in s)!Jh(a)&&o[a]==null&&delete s[a]};function Qo(e,t,n,r,s=!1){if(H(e)){e.forEach((d,g)=>Qo(d,t&&(H(t)?t[g]:t),n,r,s));return}if(zs(r)&&!s)return;const i=r.shapeFlag&4?Ni(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:c}=e,l=t&&t.r,u=a.refs===mt?a.refs={}:a.refs,h=a.setupState;if(l!=null&&l!==c&&(bt(l)?(u[l]=null,nt(h,l)&&(h[l]=null)):Vt(l)&&(l.value=null)),Q(c))nn(c,a,12,[o,u]);else{const d=bt(c),g=Vt(c),w=e.f;if(d||g){const S=()=>{if(w){const I=d?nt(h,c)?h[c]:u[c]:c.value;s?H(I)&&Ma(I,i):H(I)?I.includes(i)||I.push(i):d?(u[c]=[i],nt(h,c)&&(h[c]=u[c])):(c.value=[i],e.k&&(u[e.k]=c.value))}else d?(u[c]=o,nt(h,c)&&(h[c]=o)):g&&(c.value=o,e.k&&(u[e.k]=o))};s||w?S():(S.id=-1,ee(S,n))}}}const ee=qg;function Tm(e){return wm(e)}function wm(e,t){const n=uh();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:h,nextSibling:d,setScopeId:g=pe,insertStaticContent:w}=e,S=(f,p,m,v=null,_=null,R=null,x=void 0,A=null,P=!!p.dynamicChildren)=>{if(f===p)return;f&&!wr(f,p)&&(v=y(f),te(f,_,R,!0),f=null),p.patchFlag===-2&&(P=!1,p.dynamicChildren=null);const{type:T,ref:k,shapeFlag:j}=p;switch(T){case Vi:I(f,p,m,v);break;case Qr:N(f,p,m,v);break;case mo:f==null&&F(p,m,v,x);break;case Ae:ie(f,p,m,v,_,R,x,A,P);break;default:j&1?X(f,p,m,v,_,R,x,A,P):j&6?ue(f,p,m,v,_,R,x,A,P):(j&64||j&128)&&T.process(f,p,m,v,_,R,x,A,P,M)}k!=null&&_&&Qo(k,f&&f.ref,R,p||f,!p)},I=(f,p,m,v)=>{if(f==null)r(p.el=a(p.children),m,v);else{const _=p.el=f.el;p.children!==f.children&&l(_,p.children)}},N=(f,p,m,v)=>{f==null?r(p.el=c(p.children||""),m,v):p.el=f.el},F=(f,p,m,v)=>{[f.el,f.anchor]=w(f.children,p,m,v,f.el,f.anchor)},U=({el:f,anchor:p},m,v)=>{let _;for(;f&&f!==p;)_=d(f),r(f,m,v),f=_;r(p,m,v)},W=({el:f,anchor:p})=>{let m;for(;f&&f!==p;)m=d(f),s(f),f=m;s(p)},X=(f,p,m,v,_,R,x,A,P)=>{p.type==="svg"?x="svg":p.type==="math"&&(x="mathml"),f==null?q(p,m,v,_,R,x,A,P):tt(f,p,_,R,x,A,P)},q=(f,p,m,v,_,R,x,A)=>{let P,T;const{props:k,shapeFlag:j,transition:B,dirs:K}=f;if(P=f.el=o(f.type,R,k&&k.is,k),j&8?u(P,f.children):j&16&&J(f.children,P,null,v,_,go(f,R),x,A),K&&pn(f,null,v,"created"),gt(P,f,f.scopeId,x,v),k){for(const pt in k)pt!=="value"&&!$s(pt)&&i(P,pt,null,k[pt],R,f.children,v,_,$t);"value"in k&&i(P,"value",null,k.value,R),(T=k.onVnodeBeforeMount)&&Ie(T,v,f)}K&&pn(f,null,v,"beforeMount");const Z=Im(_,B);Z&&B.beforeEnter(P),r(P,p,m),((T=k&&k.onVnodeMounted)||Z||K)&&ee(()=>{T&&Ie(T,v,f),Z&&B.enter(P),K&&pn(f,null,v,"mounted")},_)},gt=(f,p,m,v,_)=>{if(m&&g(f,m),v)for(let R=0;R<v.length;R++)g(f,v[R]);if(_){let R=_.subTree;if(p===R){const x=_.vnode;gt(f,x,x.scopeId,x.slotScopeIds,_.parent)}}},J=(f,p,m,v,_,R,x,A,P=0)=>{for(let T=P;T<f.length;T++){const k=f[T]=A?Qe(f[T]):Re(f[T]);S(null,k,p,m,v,_,R,x,A)}},tt=(f,p,m,v,_,R,x)=>{const A=p.el=f.el;let{patchFlag:P,dynamicChildren:T,dirs:k}=p;P|=f.patchFlag&16;const j=f.props||mt,B=p.props||mt;let K;if(m&&gn(m,!1),(K=B.onVnodeBeforeUpdate)&&Ie(K,m,p,f),k&&pn(p,f,m,"beforeUpdate"),m&&gn(m,!0),T?yt(f.dynamicChildren,T,A,m,v,go(p,_),R):x||ct(f,p,A,null,m,v,go(p,_),R,!1),P>0){if(P&16)jt(A,p,j,B,m,v,_);else if(P&2&&j.class!==B.class&&i(A,"class",null,B.class,_),P&4&&i(A,"style",j.style,B.style,_),P&8){const Z=p.dynamicProps;for(let pt=0;pt<Z.length;pt++){const Et=Z[pt],Dt=j[Et],ge=B[Et];(ge!==Dt||Et==="value")&&i(A,Et,Dt,ge,_,f.children,m,v,$t)}}P&1&&f.children!==p.children&&u(A,p.children)}else!x&&T==null&&jt(A,p,j,B,m,v,_);((K=B.onVnodeUpdated)||k)&&ee(()=>{K&&Ie(K,m,p,f),k&&pn(p,f,m,"updated")},v)},yt=(f,p,m,v,_,R,x)=>{for(let A=0;A<p.length;A++){const P=f[A],T=p[A],k=P.el&&(P.type===Ae||!wr(P,T)||P.shapeFlag&70)?h(P.el):m;S(P,T,k,null,v,_,R,x,!0)}},jt=(f,p,m,v,_,R,x)=>{if(m!==v){if(m!==mt)for(const A in m)!$s(A)&&!(A in v)&&i(f,A,m[A],null,x,p.children,_,R,$t);for(const A in v){if($s(A))continue;const P=v[A],T=m[A];P!==T&&A!=="value"&&i(f,A,T,P,x,p.children,_,R,$t)}"value"in v&&i(f,"value",m.value,v.value,x)}},ie=(f,p,m,v,_,R,x,A,P)=>{const T=p.el=f?f.el:a(""),k=p.anchor=f?f.anchor:a("");let{patchFlag:j,dynamicChildren:B,slotScopeIds:K}=p;K&&(A=A?A.concat(K):K),f==null?(r(T,m,v),r(k,m,v),J(p.children||[],m,k,_,R,x,A,P)):j>0&&j&64&&B&&f.dynamicChildren?(yt(f.dynamicChildren,B,m,_,R,x,A),(p.key!=null||_&&p===_.subTree)&&ef(f,p,!0)):ct(f,p,m,k,_,R,x,A,P)},ue=(f,p,m,v,_,R,x,A,P)=>{p.slotScopeIds=A,f==null?p.shapeFlag&512?_.ctx.activate(p,m,v,x,P):dn(p,m,v,_,R,x,P):he(f,p,P)},dn=(f,p,m,v,_,R,x)=>{const A=f.component=Nm(f,v,_);if(zh(f)&&(A.ctx.renderer=M),Om(A),A.asyncDep){if(_&&_.registerDep(A,at),!f.el){const P=A.subTree=ne(Qr);N(null,P,p,m)}}else at(A,f,p,m,_,R,x)},he=(f,p,m)=>{const v=p.component=f.component;if(Fg(f,p,m))if(v.asyncDep&&!v.asyncResolved){dt(v,p,m);return}else v.next=p,Vg(v.update),v.effect.dirty=!0,v.update();else p.el=f.el,v.vnode=p},at=(f,p,m,v,_,R,x)=>{const A=()=>{if(f.isMounted){let{next:k,bu:j,u:B,parent:K,vnode:Z}=f;{const Fn=nf(f);if(Fn){k&&(k.el=Z.el,dt(f,k,x)),Fn.asyncDep.then(()=>{f.isUnmounted||A()});return}}let pt=k,Et;gn(f,!1),k?(k.el=Z.el,dt(f,k,x)):k=Z,j&&qs(j),(Et=k.props&&k.props.onVnodeBeforeUpdate)&&Ie(Et,K,k,Z),gn(f,!0);const Dt=fo(f),ge=f.subTree;f.subTree=Dt,S(ge,Dt,h(ge.el),y(ge),f,_,R),k.el=Dt.el,pt===null&&Bg(f,Dt.el),B&&ee(B,_),(Et=k.props&&k.props.onVnodeUpdated)&&ee(()=>Ie(Et,K,k,Z),_)}else{let k;const{el:j,props:B}=p,{bm:K,m:Z,parent:pt}=f,Et=zs(p);if(gn(f,!1),K&&qs(K),!Et&&(k=B&&B.onVnodeBeforeMount)&&Ie(k,pt,p),gn(f,!0),j&&vt){const Dt=()=>{f.subTree=fo(f),vt(j,f.subTree,f,_,null)};Et?p.type.__asyncLoader().then(()=>!f.isUnmounted&&Dt()):Dt()}else{const Dt=f.subTree=fo(f);S(null,Dt,m,v,f,_,R),p.el=Dt.el}if(Z&&ee(Z,_),!Et&&(k=B&&B.onVnodeMounted)){const Dt=p;ee(()=>Ie(k,pt,Dt),_)}(p.shapeFlag&256||pt&&zs(pt.vnode)&&pt.vnode.shapeFlag&256)&&f.a&&ee(f.a,_),f.isMounted=!0,p=m=v=null}},P=f.effect=new ja(A,pe,()=>Xa(T),f.scope),T=f.update=()=>{P.dirty&&P.run()};T.id=f.uid,gn(f,!0),T()},dt=(f,p,m)=>{p.component=f;const v=f.vnode.props;f.vnode=p,f.next=null,_m(f,p.props,v,m),Em(f,p.children,m),Nn(),hl(f),On()},ct=(f,p,m,v,_,R,x,A,P=!1)=>{const T=f&&f.children,k=f?f.shapeFlag:0,j=p.children,{patchFlag:B,shapeFlag:K}=p;if(B>0){if(B&128){He(T,j,m,v,_,R,x,A,P);return}else if(B&256){Le(T,j,m,v,_,R,x,A,P);return}}K&8?(k&16&&$t(T,_,R),j!==T&&u(m,j)):k&16?K&16?He(T,j,m,v,_,R,x,A,P):$t(T,_,R,!0):(k&8&&u(m,""),K&16&&J(j,m,v,_,R,x,A,P))},Le=(f,p,m,v,_,R,x,A,P)=>{f=f||Gn,p=p||Gn;const T=f.length,k=p.length,j=Math.min(T,k);let B;for(B=0;B<j;B++){const K=p[B]=P?Qe(p[B]):Re(p[B]);S(f[B],K,m,null,_,R,x,A,P)}T>k?$t(f,_,R,!0,!1,j):J(p,m,v,_,R,x,A,P,j)},He=(f,p,m,v,_,R,x,A,P)=>{let T=0;const k=p.length;let j=f.length-1,B=k-1;for(;T<=j&&T<=B;){const K=f[T],Z=p[T]=P?Qe(p[T]):Re(p[T]);if(wr(K,Z))S(K,Z,m,null,_,R,x,A,P);else break;T++}for(;T<=j&&T<=B;){const K=f[j],Z=p[B]=P?Qe(p[B]):Re(p[B]);if(wr(K,Z))S(K,Z,m,null,_,R,x,A,P);else break;j--,B--}if(T>j){if(T<=B){const K=B+1,Z=K<k?p[K].el:v;for(;T<=B;)S(null,p[T]=P?Qe(p[T]):Re(p[T]),m,Z,_,R,x,A,P),T++}}else if(T>B)for(;T<=j;)te(f[T],_,R,!0),T++;else{const K=T,Z=T,pt=new Map;for(T=Z;T<=B;T++){const oe=p[T]=P?Qe(p[T]):Re(p[T]);oe.key!=null&&pt.set(oe.key,T)}let Et,Dt=0;const ge=B-Z+1;let Fn=!1,tl=0;const Tr=new Array(ge);for(T=0;T<ge;T++)Tr[T]=0;for(T=K;T<=j;T++){const oe=f[T];if(Dt>=ge){te(oe,_,R,!0);continue}let we;if(oe.key!=null)we=pt.get(oe.key);else for(Et=Z;Et<=B;Et++)if(Tr[Et-Z]===0&&wr(oe,p[Et])){we=Et;break}we===void 0?te(oe,_,R,!0):(Tr[we-Z]=T+1,we>=tl?tl=we:Fn=!0,S(oe,p[we],m,null,_,R,x,A,P),Dt++)}const el=Fn?Am(Tr):Gn;for(Et=el.length-1,T=ge-1;T>=0;T--){const oe=Z+T,we=p[oe],nl=oe+1<k?p[oe+1].el:v;Tr[T]===0?S(null,we,m,nl,_,R,x,A,P):Fn&&(Et<0||T!==el[Et]?Te(we,m,nl,2):Et--)}}},Te=(f,p,m,v,_=null)=>{const{el:R,type:x,transition:A,children:P,shapeFlag:T}=f;if(T&6){Te(f.component.subTree,p,m,v);return}if(T&128){f.suspense.move(p,m,v);return}if(T&64){x.move(f,p,m,M);return}if(x===Ae){r(R,p,m);for(let j=0;j<P.length;j++)Te(P[j],p,m,v);r(f.anchor,p,m);return}if(x===mo){U(f,p,m);return}if(v!==2&&T&1&&A)if(v===0)A.beforeEnter(R),r(R,p,m),ee(()=>A.enter(R),_);else{const{leave:j,delayLeave:B,afterLeave:K}=A,Z=()=>r(R,p,m),pt=()=>{j(R,()=>{Z(),K&&K()})};B?B(R,Z,pt):pt()}else r(R,p,m)},te=(f,p,m,v=!1,_=!1)=>{const{type:R,props:x,ref:A,children:P,dynamicChildren:T,shapeFlag:k,patchFlag:j,dirs:B}=f;if(A!=null&&Qo(A,null,m,f,!0),k&256){p.ctx.deactivate(f);return}const K=k&1&&B,Z=!zs(f);let pt;if(Z&&(pt=x&&x.onVnodeBeforeUnmount)&&Ie(pt,p,f),k&6)Ss(f.component,m,v);else{if(k&128){f.suspense.unmount(m,v);return}K&&pn(f,null,p,"beforeUnmount"),k&64?f.type.remove(f,p,m,_,M,v):T&&(R!==Ae||j>0&&j&64)?$t(T,p,m,!1,!0):(R===Ae&&j&384||!_&&k&16)&&$t(P,p,m),v&&Mn(f)}(Z&&(pt=x&&x.onVnodeUnmounted)||K)&&ee(()=>{pt&&Ie(pt,p,f),K&&pn(f,null,p,"unmounted")},m)},Mn=f=>{const{type:p,el:m,anchor:v,transition:_}=f;if(p===Ae){Ln(m,v);return}if(p===mo){W(f);return}const R=()=>{s(m),_&&!_.persisted&&_.afterLeave&&_.afterLeave()};if(f.shapeFlag&1&&_&&!_.persisted){const{leave:x,delayLeave:A}=_,P=()=>x(m,R);A?A(f.el,R,P):P()}else R()},Ln=(f,p)=>{let m;for(;f!==p;)m=d(f),s(f),f=m;s(p)},Ss=(f,p,m)=>{const{bum:v,scope:_,update:R,subTree:x,um:A}=f;v&&qs(v),_.stop(),R&&(R.active=!1,te(x,f,p,m)),A&&ee(A,p),ee(()=>{f.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},$t=(f,p,m,v=!1,_=!1,R=0)=>{for(let x=R;x<f.length;x++)te(f[x],p,m,v,_)},y=f=>f.shapeFlag&6?y(f.component.subTree):f.shapeFlag&128?f.suspense.next():d(f.anchor||f.el);let O=!1;const D=(f,p,m)=>{f==null?p._vnode&&te(p._vnode,null,null,!0):S(p._vnode||null,f,p,null,null,null,m),O||(O=!0,hl(),Lh(),O=!1),p._vnode=f},M={p:S,um:te,m:Te,r:Mn,mt:dn,mc:J,pc:ct,pbc:yt,n:y,o:e};let lt,vt;return t&&([lt,vt]=t(M)),{render:D,hydrate:lt,createApp:pm(D,lt)}}function go({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function gn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Im(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ef(e,t,n=!1){const r=e.children,s=t.children;if(H(r)&&H(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Qe(s[i]),a.el=o.el),n||ef(o,a)),a.type===Vi&&(a.el=o.el)}}function Am(e){const t=e.slice(),n=[0];let r,s,i,o,a;const c=e.length;for(r=0;r<c;r++){const l=e[r];if(l!==0){if(s=n[n.length-1],e[s]<l){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<l?i=a+1:o=a;l<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function nf(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:nf(t)}const Rm=e=>e.__isTeleport,Ae=Symbol.for("v-fgt"),Vi=Symbol.for("v-txt"),Qr=Symbol.for("v-cmt"),mo=Symbol.for("v-stc"),kr=[];let me=null;function Yn(e=!1){kr.push(me=e?null:[])}function Cm(){kr.pop(),me=kr[kr.length-1]||null}let Yr=1;function wl(e){Yr+=e}function rf(e){return e.dynamicChildren=Yr>0?me||Gn:null,Cm(),Yr>0&&me&&me.push(e),e}function ni(e,t,n,r,s,i){return rf(ce(e,t,n,r,s,i,!0))}function sf(e,t,n,r,s){return rf(ne(e,t,n,r,s,!0))}function Yo(e){return e?e.__v_isVNode===!0:!1}function wr(e,t){return e.type===t.type&&e.key===t.key}const Di="__vInternal",of=({key:e})=>e??null,Gs=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?bt(e)||Vt(e)||Q(e)?{i:Jt,r:e,k:t,f:!!n}:e:null);function ce(e,t=null,n=null,r=0,s=null,i=e===Ae?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&of(t),ref:t&&Gs(t),scopeId:Pi,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Jt};return a?(ec(c,n),i&128&&e.normalize(c)):n&&(c.shapeFlag|=bt(n)?8:16),Yr>0&&!o&&me&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&me.push(c),c}const ne=Sm;function Sm(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===Ug)&&(e=Qr),Yo(e)){const a=rr(e,t,!0);return n&&ec(a,n),Yr>0&&!i&&me&&(a.shapeFlag&6?me[me.indexOf(e)]=a:me.push(a)),a.patchFlag|=-2,a}if(Bm(e)&&(e=e.__vccOpts),t){t=Pm(t);let{class:a,style:c}=t;a&&!bt(a)&&(t.class=Ba(a)),wt(c)&&(Vh(c)&&!H(c)&&(c=Ut({},c)),t.style=Fa(c))}const o=bt(e)?1:$g(e)?128:Rm(e)?64:wt(e)?4:Q(e)?2:0;return ce(e,t,n,r,s,o,i,!0)}function Pm(e){return e?Vh(e)||Di in e?Ut({},e):e:null}function rr(e,t,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=e,a=t?Vm(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&of(a),ref:t&&t.ref?n&&s?H(s)?s.concat(Gs(t)):[s,Gs(t)]:Gs(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ae?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&rr(e.ssContent),ssFallback:e.ssFallback&&rr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function bm(e=" ",t=0){return ne(Vi,null,e,t)}function Re(e){return e==null||typeof e=="boolean"?ne(Qr):H(e)?ne(Ae,null,e.slice()):typeof e=="object"?Qe(e):ne(Vi,null,String(e))}function Qe(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:rr(e)}function ec(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(H(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),ec(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Di in t)?t._ctx=Jt:s===3&&Jt&&(Jt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Q(t)?(t={default:t,_ctx:Jt},n=32):(t=String(t),r&64?(n=16,t=[bm(t)]):n=8);e.children=t,e.shapeFlag|=n}function Vm(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Ba([t.class,r.class]));else if(s==="style")t.style=Fa([t.style,r.style]);else if(Ei(s)){const i=t[s],o=r[s];o&&i!==o&&!(H(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function Ie(e,t,n,r=null){_e(e,t,7,[n,r])}const Dm=Qh();let xm=0;function Nm(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||Dm,i={uid:xm++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new dh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Xh(r,s),emitsOptions:Bh(r,s),emit:null,emitted:null,propsDefaults:mt,inheritAttrs:r.inheritAttrs,ctx:mt,data:mt,props:mt,attrs:mt,slots:mt,refs:mt,setupState:mt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Ng.bind(null,i),e.ce&&e.ce(i),i}let Lt=null,ri,Xo;{const e=uh(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};ri=t("__VUE_INSTANCE_SETTERS__",n=>Lt=n),Xo=t("__VUE_SSR_SETTERS__",n=>xi=n)}const ps=e=>{const t=Lt;return ri(e),e.scope.on(),()=>{e.scope.off(),ri(t)}},Il=()=>{Lt&&Lt.scope.off(),ri(null)};function af(e){return e.vnode.shapeFlag&4}let xi=!1;function Om(e,t=!1){t&&Xo(t);const{props:n,children:r}=e.vnode,s=af(e);mm(e,n,s,t),vm(e,r);const i=s?km(e,t):void 0;return t&&Xo(!1),i}function km(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Ri(new Proxy(e.ctx,am));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?Lm(e):null,i=ps(e);Nn();const o=nn(r,e,0,[e.props,s]);if(On(),i(),ah(o)){if(o.then(Il,Il),t)return o.then(a=>{Al(e,a,t)}).catch(a=>{Ci(a,e,0)});e.asyncDep=o}else Al(e,o,t)}else cf(e,t)}function Al(e,t,n){Q(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:wt(t)&&(e.setupState=Oh(t)),cf(e,n)}let Rl;function cf(e,t,n){const r=e.type;if(!e.render){if(!t&&Rl&&!r.render){const s=r.template||Za(e).template;if(s){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:c}=r,l=Ut(Ut({isCustomElement:i,delimiters:a},o),c);r.render=Rl(s,l)}}e.render=r.render||pe}{const s=ps(e);Nn();try{cm(e)}finally{On(),s()}}}function Mm(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return se(e,"get","$attrs"),t[n]}}))}function Lm(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return Mm(e)},slots:e.slots,emit:e.emit,expose:t}}function Ni(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Oh(Ri(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Or)return Or[n](e)},has(t,n){return n in t||n in Or}}))}function Fm(e,t=!0){return Q(e)?e.displayName||e.name:e.name||t&&e.__name}function Bm(e){return Q(e)&&"__vccOpts"in e}const fe=(e,t)=>Tg(e,t,xi);function lf(e,t,n){const r=arguments.length;return r===2?wt(t)&&!H(t)?Yo(t)?ne(e,null,[t]):ne(e,t):ne(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Yo(n)&&(n=[n]),ne(e,t,n))}const Um="3.4.15";/**
* @vue/runtime-dom v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const jm="http://www.w3.org/2000/svg",$m="http://www.w3.org/1998/Math/MathML",Ye=typeof document<"u"?document:null,Cl=Ye&&Ye.createElement("template"),qm={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?Ye.createElementNS(jm,e):t==="mathml"?Ye.createElementNS($m,e):Ye.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Ye.createTextNode(e),createComment:e=>Ye.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ye.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Cl.innerHTML=r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e;const a=Cl.content;if(r==="svg"||r==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Hm=Symbol("_vtc");function zm(e,t,n){const r=e[Hm];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Km=Symbol("_vod"),Gm=Symbol("");function Wm(e,t,n){const r=e.style,s=r.display,i=bt(n);if(n&&!i){if(t&&!bt(t))for(const o in t)n[o]==null&&Jo(r,o,"");for(const o in n)Jo(r,o,n[o])}else if(i){if(t!==n){const o=r[Gm];o&&(n+=";"+o),r.cssText=n}}else t&&e.removeAttribute("style");Km in e&&(r.display=s)}const Sl=/\s*!important$/;function Jo(e,t,n){if(H(n))n.forEach(r=>Jo(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Qm(e,t);Sl.test(n)?e.setProperty(pr(r),n.replace(Sl,""),"important"):e[r]=n}}const Pl=["Webkit","Moz","ms"],_o={};function Qm(e,t){const n=_o[t];if(n)return n;let r=Ne(t);if(r!=="filter"&&r in e)return _o[t]=r;r=Ii(r);for(let s=0;s<Pl.length;s++){const i=Pl[s]+r;if(i in e)return _o[t]=i}return t}const bl="http://www.w3.org/1999/xlink";function Ym(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(bl,t.slice(6,t.length)):e.setAttributeNS(bl,t,n);else{const i=Jp(t);n==null||i&&!hh(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function Xm(e,t,n,r,s,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,s,i),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const l=a==="OPTION"?e.getAttribute("value"):e.value,u=n??"";l!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let c=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=hh(n):n==null&&l==="string"?(n="",c=!0):l==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(t)}function jn(e,t,n,r){e.addEventListener(t,n,r)}function Jm(e,t,n,r){e.removeEventListener(t,n,r)}const Vl=Symbol("_vei");function Zm(e,t,n,r,s=null){const i=e[Vl]||(e[Vl]={}),o=i[t];if(r&&o)o.value=r;else{const[a,c]=t_(t);if(r){const l=i[t]=r_(r,s);jn(e,a,l,c)}else o&&(Jm(e,a,o,c),i[t]=void 0)}}const Dl=/(?:Once|Passive|Capture)$/;function t_(e){let t;if(Dl.test(e)){t={};let r;for(;r=e.match(Dl);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):pr(e.slice(2)),t]}let yo=0;const e_=Promise.resolve(),n_=()=>yo||(e_.then(()=>yo=0),yo=Date.now());function r_(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;_e(s_(r,n.value),t,5,[r])};return n.value=e,n.attached=n_(),n}function s_(e,t){if(H(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const xl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,i_=(e,t,n,r,s,i,o,a,c)=>{const l=s==="svg";t==="class"?zm(e,r,l):t==="style"?Wm(e,n,r):Ei(t)?ka(t)||Zm(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):o_(e,t,r,l))?Xm(e,t,r,i,o,a,c):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Ym(e,t,r,l))};function o_(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&xl(t)&&Q(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return xl(t)&&bt(n)?!1:t in e}const Nl=e=>{const t=e.props["onUpdate:modelValue"]||!1;return H(t)?n=>qs(t,n):t};function a_(e){e.target.composing=!0}function Ol(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const vo=Symbol("_assign"),c_={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[vo]=Nl(s);const i=r||s.props&&s.props.type==="number";jn(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),i&&(a=Uo(a)),e[vo](a)}),n&&jn(e,"change",()=>{e.value=e.value.trim()}),t||(jn(e,"compositionstart",a_),jn(e,"compositionend",Ol),jn(e,"change",Ol))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:s}},i){if(e[vo]=Nl(i),e.composing)return;const o=s||e.type==="number"?Uo(e.value):e.value,a=t??"";o!==a&&(document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===a)||(e.value=a))}},l_=Ut({patchProp:i_},qm);let kl;function u_(){return kl||(kl=Tm(l_))}const h_=(...e)=>{const t=u_().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=d_(r);if(!s)return;const i=t._component;!Q(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,f_(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function f_(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function d_(e){return bt(e)?document.querySelector(e):e}var p_=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let uf;const Oi=e=>uf=e,hf=Symbol();function Zo(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Mr;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Mr||(Mr={}));function g_(){const e=ph(!0),t=e.run(()=>Wa({}));let n=[],r=[];const s=Ri({install(i){Oi(s),s._a=i,i.provide(hf,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!p_?r.push(i):n.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const ff=()=>{};function Ml(e,t,n,r=ff){e.push(t);const s=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!n&&gh()&&tg(s),s}function Bn(e,...t){e.slice().forEach(n=>{n(...t)})}const m_=e=>e();function ta(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],s=e[n];Zo(s)&&Zo(r)&&e.hasOwnProperty(n)&&!Vt(r)&&!en(r)?e[n]=ta(s,r):e[n]=r}return e}const __=Symbol();function y_(e){return!Zo(e)||!e.hasOwnProperty(__)}const{assign:Ge}=Object;function v_(e){return!!(Vt(e)&&e.effect)}function E_(e,t,n,r){const{state:s,actions:i,getters:o}=t,a=n.state.value[e];let c;function l(){a||(n.state.value[e]=s?s():{});const u=Rg(n.state.value[e]);return Ge(u,i,Object.keys(o||{}).reduce((h,d)=>(h[d]=Ri(fe(()=>{Oi(n);const g=n._s.get(e);return o[d].call(g,g)})),h),{}))}return c=df(e,l,t,n,r,!0),c}function df(e,t,n={},r,s,i){let o;const a=Ge({actions:{}},n),c={deep:!0};let l,u,h=[],d=[],g;const w=r.state.value[e];!i&&!w&&(r.state.value[e]={}),Wa({});let S;function I(J){let tt;l=u=!1,typeof J=="function"?(J(r.state.value[e]),tt={type:Mr.patchFunction,storeId:e,events:g}):(ta(r.state.value[e],J),tt={type:Mr.patchObject,payload:J,storeId:e,events:g});const yt=S=Symbol();Ya().then(()=>{S===yt&&(l=!0)}),u=!0,Bn(h,tt,r.state.value[e])}const N=i?function(){const{state:tt}=n,yt=tt?tt():{};this.$patch(jt=>{Ge(jt,yt)})}:ff;function F(){o.stop(),h=[],d=[],r._s.delete(e)}function U(J,tt){return function(){Oi(r);const yt=Array.from(arguments),jt=[],ie=[];function ue(at){jt.push(at)}function dn(at){ie.push(at)}Bn(d,{args:yt,name:J,store:X,after:ue,onError:dn});let he;try{he=tt.apply(this&&this.$id===e?this:X,yt)}catch(at){throw Bn(ie,at),at}return he instanceof Promise?he.then(at=>(Bn(jt,at),at)).catch(at=>(Bn(ie,at),Promise.reject(at))):(Bn(jt,he),he)}}const W={_p:r,$id:e,$onAction:Ml.bind(null,d),$patch:I,$reset:N,$subscribe(J,tt={}){const yt=Ml(h,J,tt.detached,()=>jt()),jt=o.run(()=>Nr(()=>r.state.value[e],ie=>{(tt.flush==="sync"?u:l)&&J({storeId:e,type:Mr.direct,events:g},ie)},Ge({},c,tt)));return yt},$dispose:F},X=ds(W);r._s.set(e,X);const gt=(r._a&&r._a.runWithContext||m_)(()=>r._e.run(()=>(o=ph()).run(t)));for(const J in gt){const tt=gt[J];if(Vt(tt)&&!v_(tt)||en(tt))i||(w&&y_(tt)&&(Vt(tt)?tt.value=w[J]:ta(tt,w[J])),r.state.value[e][J]=tt);else if(typeof tt=="function"){const yt=U(J,tt);gt[J]=yt,a.actions[J]=tt}}return Ge(X,gt),Ge(it(X),gt),Object.defineProperty(X,"$state",{get:()=>r.state.value[e],set:J=>{I(tt=>{Ge(tt,J)})}}),r._p.forEach(J=>{Ge(X,o.run(()=>J({store:X,app:r._a,pinia:r,options:a})))}),w&&i&&n.hydrate&&n.hydrate(X.$state,w),l=!0,u=!0,X}function T_(e,t,n){let r,s;const i=typeof t=="function";typeof e=="string"?(r=e,s=i?n:t):(s=e,r=e.id);function o(a,c){const l=gm();return a=a||(l?ye(hf,null):null),a&&Oi(a),a=uf,a._s.has(r)||(i?df(r,t,s,a):E_(r,s,a)),a._s.get(r)}return o.$id=r,o}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const $n=typeof window<"u";function w_(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ht=Object.assign;function Eo(e,t){const n={};for(const r in t){const s=t[r];n[r]=ve(s)?s.map(e):e(s)}return n}const Lr=()=>{},ve=Array.isArray,I_=/\/$/,A_=e=>e.replace(I_,"");function To(e,t,n="/"){let r,s={},i="",o="";const a=t.indexOf("#");let c=t.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=t.slice(0,c),i=t.slice(c+1,a>-1?a:t.length),s=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=P_(r??t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function R_(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Ll(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function C_(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&sr(t.matched[r],n.matched[s])&&pf(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function sr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function pf(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!S_(e[n],t[n]))return!1;return!0}function S_(e,t){return ve(e)?Fl(e,t):ve(t)?Fl(t,e):e===t}function Fl(e,t){return ve(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function P_(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var Xr;(function(e){e.pop="pop",e.push="push"})(Xr||(Xr={}));var Fr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Fr||(Fr={}));function b_(e){if(!e)if($n){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),A_(e)}const V_=/^[^#]+#/;function D_(e,t){return e.replace(V_,"#")+t}function x_(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const ki=()=>({left:window.pageXOffset,top:window.pageYOffset});function N_(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=x_(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Bl(e,t){return(history.state?history.state.position-t:-1)+e}const ea=new Map;function O_(e,t){ea.set(e,t)}function k_(e){const t=ea.get(e);return ea.delete(e),t}let M_=()=>location.protocol+"//"+location.host;function gf(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),Ll(c,"")}return Ll(n,e)+r+s}function L_(e,t,n,r){let s=[],i=[],o=null;const a=({state:d})=>{const g=gf(e,location),w=n.value,S=t.value;let I=0;if(d){if(n.value=g,t.value=d,o&&o===w){o=null;return}I=S?d.position-S.position:0}else r(g);s.forEach(N=>{N(n.value,w,{delta:I,type:Xr.pop,direction:I?I>0?Fr.forward:Fr.back:Fr.unknown})})};function c(){o=n.value}function l(d){s.push(d);const g=()=>{const w=s.indexOf(d);w>-1&&s.splice(w,1)};return i.push(g),g}function u(){const{history:d}=window;d.state&&d.replaceState(ht({},d.state,{scroll:ki()}),"")}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:l,destroy:h}}function Ul(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?ki():null}}function F_(e){const{history:t,location:n}=window,r={value:gf(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const h=e.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+c:M_()+e+c;try{t[u?"replaceState":"pushState"](l,"",d),s.value=l}catch(g){console.error(g),n[u?"replace":"assign"](d)}}function o(c,l){const u=ht({},t.state,Ul(s.value.back,c,s.value.forward,!0),l,{position:s.value.position});i(c,u,!0),r.value=c}function a(c,l){const u=ht({},s.value,t.state,{forward:c,scroll:ki()});i(u.current,u,!0);const h=ht({},Ul(r.value,c,null),{position:u.position+1},l);i(c,h,!1),r.value=c}return{location:r,state:s,push:a,replace:o}}function B_(e){e=b_(e);const t=F_(e),n=L_(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=ht({location:"",base:e,go:r,createHref:D_.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function U_(e){return typeof e=="string"||e&&typeof e=="object"}function mf(e){return typeof e=="string"||typeof e=="symbol"}const Ke={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},_f=Symbol("");var jl;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(jl||(jl={}));function ir(e,t){return ht(new Error,{type:e,[_f]:!0},t)}function Fe(e,t){return e instanceof Error&&_f in e&&(t==null||!!(e.type&t))}const $l="[^/]+?",j_={sensitive:!1,strict:!1,start:!0,end:!0},$_=/[.+*?^${}()[\]/\\]/g;function q_(e,t){const n=ht({},j_,t),r=[];let s=n.start?"^":"";const i=[];for(const l of e){const u=l.length?[]:[90];n.strict&&!l.length&&(s+="/");for(let h=0;h<l.length;h++){const d=l[h];let g=40+(n.sensitive?.25:0);if(d.type===0)h||(s+="/"),s+=d.value.replace($_,"\\$&"),g+=40;else if(d.type===1){const{value:w,repeatable:S,optional:I,regexp:N}=d;i.push({name:w,repeatable:S,optional:I});const F=N||$l;if(F!==$l){g+=10;try{new RegExp(`(${F})`)}catch(W){throw new Error(`Invalid custom RegExp for param "${w}" (${F}): `+W.message)}}let U=S?`((?:${F})(?:/(?:${F}))*)`:`(${F})`;h||(U=I&&l.length<2?`(?:/${U})`:"/"+U),I&&(U+="?"),s+=U,g+=20,I&&(g+=-8),S&&(g+=-20),F===".*"&&(g+=-50)}u.push(g)}r.push(u)}if(n.strict&&n.end){const l=r.length-1;r[l][r[l].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(l){const u=l.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const g=u[d]||"",w=i[d-1];h[w.name]=g&&w.repeatable?g.split("/"):g}return h}function c(l){let u="",h=!1;for(const d of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const g of d)if(g.type===0)u+=g.value;else if(g.type===1){const{value:w,repeatable:S,optional:I}=g,N=w in l?l[w]:"";if(ve(N)&&!S)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const F=ve(N)?N.join("/"):N;if(!F)if(I)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${w}"`);u+=F}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:c}}function H_(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function z_(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=H_(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(ql(r))return 1;if(ql(s))return-1}return s.length-r.length}function ql(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const K_={type:0,value:""},G_=/[a-zA-Z0-9_]/;function W_(e){if(!e)return[[]];if(e==="/")return[[K_]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${n})/"${l}": ${g}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,c,l="",u="";function h(){l&&(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),l="")}function d(){l+=c}for(;a<e.length;){if(c=e[a++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(l&&h(),o()):c===":"?(h(),n=1):d();break;case 4:d(),n=r;break;case 1:c==="("?n=2:G_.test(c)?d():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${l}"`),h(),o(),s}function Q_(e,t,n){const r=q_(W_(e.path),n),s=ht(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function Y_(e,t){const n=[],r=new Map;t=Kl({strict:!1,end:!0,sensitive:!1},t);function s(u){return r.get(u)}function i(u,h,d){const g=!d,w=X_(u);w.aliasOf=d&&d.record;const S=Kl(t,u),I=[w];if("alias"in u){const U=typeof u.alias=="string"?[u.alias]:u.alias;for(const W of U)I.push(ht({},w,{components:d?d.record.components:w.components,path:W,aliasOf:d?d.record:w}))}let N,F;for(const U of I){const{path:W}=U;if(h&&W[0]!=="/"){const X=h.record.path,q=X[X.length-1]==="/"?"":"/";U.path=h.record.path+(W&&q+W)}if(N=Q_(U,h,S),d?d.alias.push(N):(F=F||N,F!==N&&F.alias.push(N),g&&u.name&&!zl(N)&&o(u.name)),w.children){const X=w.children;for(let q=0;q<X.length;q++)i(X[q],N,d&&d.children[q])}d=d||N,(N.record.components&&Object.keys(N.record.components).length||N.record.name||N.record.redirect)&&c(N)}return F?()=>{o(F)}:Lr}function o(u){if(mf(u)){const h=r.get(u);h&&(r.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function c(u){let h=0;for(;h<n.length&&z_(u,n[h])>=0&&(u.record.path!==n[h].record.path||!yf(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!zl(u)&&r.set(u.record.name,u)}function l(u,h){let d,g={},w,S;if("name"in u&&u.name){if(d=r.get(u.name),!d)throw ir(1,{location:u});S=d.record.name,g=ht(Hl(h.params,d.keys.filter(F=>!F.optional).map(F=>F.name)),u.params&&Hl(u.params,d.keys.map(F=>F.name))),w=d.stringify(g)}else if("path"in u)w=u.path,d=n.find(F=>F.re.test(w)),d&&(g=d.parse(w),S=d.record.name);else{if(d=h.name?r.get(h.name):n.find(F=>F.re.test(h.path)),!d)throw ir(1,{location:u,currentLocation:h});S=d.record.name,g=ht({},h.params,u.params),w=d.stringify(g)}const I=[];let N=d;for(;N;)I.unshift(N.record),N=N.parent;return{name:S,path:w,params:g,matched:I,meta:Z_(I)}}return e.forEach(u=>i(u)),{addRoute:i,resolve:l,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function Hl(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function X_(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:J_(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function J_(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function zl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Z_(e){return e.reduce((t,n)=>ht(t,n.meta),{})}function Kl(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function yf(e,t){return t.children.some(n=>n===e||yf(e,n))}const vf=/#/g,ty=/&/g,ey=/\//g,ny=/=/g,ry=/\?/g,Ef=/\+/g,sy=/%5B/g,iy=/%5D/g,Tf=/%5E/g,oy=/%60/g,wf=/%7B/g,ay=/%7C/g,If=/%7D/g,cy=/%20/g;function nc(e){return encodeURI(""+e).replace(ay,"|").replace(sy,"[").replace(iy,"]")}function ly(e){return nc(e).replace(wf,"{").replace(If,"}").replace(Tf,"^")}function na(e){return nc(e).replace(Ef,"%2B").replace(cy,"+").replace(vf,"%23").replace(ty,"%26").replace(oy,"`").replace(wf,"{").replace(If,"}").replace(Tf,"^")}function uy(e){return na(e).replace(ny,"%3D")}function hy(e){return nc(e).replace(vf,"%23").replace(ry,"%3F")}function fy(e){return e==null?"":hy(e).replace(ey,"%2F")}function si(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function dy(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Ef," "),o=i.indexOf("="),a=si(o<0?i:i.slice(0,o)),c=o<0?null:si(i.slice(o+1));if(a in t){let l=t[a];ve(l)||(l=t[a]=[l]),l.push(c)}else t[a]=c}return t}function Gl(e){let t="";for(let n in e){const r=e[n];if(n=uy(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(ve(r)?r.map(i=>i&&na(i)):[r&&na(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function py(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=ve(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const gy=Symbol(""),Wl=Symbol(""),rc=Symbol(""),sc=Symbol(""),ra=Symbol("");function Ir(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Xe(e,t,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const c=h=>{h===!1?a(ir(4,{from:n,to:t})):h instanceof Error?a(h):U_(h)?a(ir(2,{from:t,to:h})):(i&&r.enterCallbacks[s]===i&&typeof h=="function"&&i.push(h),o())},l=e.call(r&&r.instances[s],t,n,c);let u=Promise.resolve(l);e.length<3&&(u=u.then(c)),u.catch(h=>a(h))})}function wo(e,t,n,r){const s=[];for(const i of e)for(const o in i.components){let a=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(my(a)){const l=(a.__vccOpts||a)[t];l&&s.push(Xe(l,n,r,i,o))}else{let c=a();s.push(()=>c.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=w_(l)?l.default:l;i.components[o]=u;const d=(u.__vccOpts||u)[t];return d&&Xe(d,n,r,i,o)()}))}}return s}function my(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Ql(e){const t=ye(rc),n=ye(sc),r=fe(()=>t.resolve(Cn(e.to))),s=fe(()=>{const{matched:c}=r.value,{length:l}=c,u=c[l-1],h=n.matched;if(!u||!h.length)return-1;const d=h.findIndex(sr.bind(null,u));if(d>-1)return d;const g=Yl(c[l-2]);return l>1&&Yl(u)===g&&h[h.length-1].path!==g?h.findIndex(sr.bind(null,c[l-2])):d}),i=fe(()=>s.value>-1&&Ey(n.params,r.value.params)),o=fe(()=>s.value>-1&&s.value===n.matched.length-1&&pf(n.params,r.value.params));function a(c={}){return vy(c)?t[Cn(e.replace)?"replace":"push"](Cn(e.to)).catch(Lr):Promise.resolve()}return{route:r,href:fe(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const _y=Hh({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ql,setup(e,{slots:t}){const n=ds(Ql(e)),{options:r}=ye(rc),s=fe(()=>({[Xl(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Xl(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:lf("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),yy=_y;function vy(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Ey(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!ve(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Yl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Xl=(e,t,n)=>e??t??n,Ty=Hh({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=ye(ra),s=fe(()=>e.route||r.value),i=ye(Wl,0),o=fe(()=>{let l=Cn(i);const{matched:u}=s.value;let h;for(;(h=u[l])&&!h.components;)l++;return l}),a=fe(()=>s.value.matched[o.value]);Ks(Wl,fe(()=>o.value+1)),Ks(gy,a),Ks(ra,s);const c=Wa();return Nr(()=>[c.value,a.value,e.name],([l,u,h],[d,g,w])=>{u&&(u.instances[h]=l,g&&g!==u&&l&&l===d&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),l&&u&&(!g||!sr(u,g)||!d)&&(u.enterCallbacks[h]||[]).forEach(S=>S(l))},{flush:"post"}),()=>{const l=s.value,u=e.name,h=a.value,d=h&&h.components[u];if(!d)return Jl(n.default,{Component:d,route:l});const g=h.props[u],w=g?g===!0?l.params:typeof g=="function"?g(l):g:null,I=lf(d,ht({},w,t,{onVnodeUnmounted:N=>{N.component.isUnmounted&&(h.instances[u]=null)},ref:c}));return Jl(n.default,{Component:I,route:l})||I}}});function Jl(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Af=Ty;function wy(e){const t=Y_(e.routes,e),n=e.parseQuery||dy,r=e.stringifyQuery||Gl,s=e.history,i=Ir(),o=Ir(),a=Ir(),c=wg(Ke);let l=Ke;$n&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Eo.bind(null,y=>""+y),h=Eo.bind(null,fy),d=Eo.bind(null,si);function g(y,O){let D,M;return mf(y)?(D=t.getRecordMatcher(y),M=O):M=y,t.addRoute(M,D)}function w(y){const O=t.getRecordMatcher(y);O&&t.removeRoute(O)}function S(){return t.getRoutes().map(y=>y.record)}function I(y){return!!t.getRecordMatcher(y)}function N(y,O){if(O=ht({},O||c.value),typeof y=="string"){const p=To(n,y,O.path),m=t.resolve({path:p.path},O),v=s.createHref(p.fullPath);return ht(p,m,{params:d(m.params),hash:si(p.hash),redirectedFrom:void 0,href:v})}let D;if("path"in y)D=ht({},y,{path:To(n,y.path,O.path).path});else{const p=ht({},y.params);for(const m in p)p[m]==null&&delete p[m];D=ht({},y,{params:h(p)}),O.params=h(O.params)}const M=t.resolve(D,O),lt=y.hash||"";M.params=u(d(M.params));const vt=R_(r,ht({},y,{hash:ly(lt),path:M.path})),f=s.createHref(vt);return ht({fullPath:vt,hash:lt,query:r===Gl?py(y.query):y.query||{}},M,{redirectedFrom:void 0,href:f})}function F(y){return typeof y=="string"?To(n,y,c.value.path):ht({},y)}function U(y,O){if(l!==y)return ir(8,{from:O,to:y})}function W(y){return gt(y)}function X(y){return W(ht(F(y),{replace:!0}))}function q(y){const O=y.matched[y.matched.length-1];if(O&&O.redirect){const{redirect:D}=O;let M=typeof D=="function"?D(y):D;return typeof M=="string"&&(M=M.includes("?")||M.includes("#")?M=F(M):{path:M},M.params={}),ht({query:y.query,hash:y.hash,params:"path"in M?{}:y.params},M)}}function gt(y,O){const D=l=N(y),M=c.value,lt=y.state,vt=y.force,f=y.replace===!0,p=q(D);if(p)return gt(ht(F(p),{state:typeof p=="object"?ht({},lt,p.state):lt,force:vt,replace:f}),O||D);const m=D;m.redirectedFrom=O;let v;return!vt&&C_(r,M,D)&&(v=ir(16,{to:m,from:M}),Te(M,M,!0,!1)),(v?Promise.resolve(v):yt(m,M)).catch(_=>Fe(_)?Fe(_,2)?_:He(_):ct(_,m,M)).then(_=>{if(_){if(Fe(_,2))return gt(ht({replace:f},F(_.to),{state:typeof _.to=="object"?ht({},lt,_.to.state):lt,force:vt}),O||m)}else _=ie(m,M,!0,f,lt);return jt(m,M,_),_})}function J(y,O){const D=U(y,O);return D?Promise.reject(D):Promise.resolve()}function tt(y){const O=Ln.values().next().value;return O&&typeof O.runWithContext=="function"?O.runWithContext(y):y()}function yt(y,O){let D;const[M,lt,vt]=Iy(y,O);D=wo(M.reverse(),"beforeRouteLeave",y,O);for(const p of M)p.leaveGuards.forEach(m=>{D.push(Xe(m,y,O))});const f=J.bind(null,y,O);return D.push(f),$t(D).then(()=>{D=[];for(const p of i.list())D.push(Xe(p,y,O));return D.push(f),$t(D)}).then(()=>{D=wo(lt,"beforeRouteUpdate",y,O);for(const p of lt)p.updateGuards.forEach(m=>{D.push(Xe(m,y,O))});return D.push(f),$t(D)}).then(()=>{D=[];for(const p of vt)if(p.beforeEnter)if(ve(p.beforeEnter))for(const m of p.beforeEnter)D.push(Xe(m,y,O));else D.push(Xe(p.beforeEnter,y,O));return D.push(f),$t(D)}).then(()=>(y.matched.forEach(p=>p.enterCallbacks={}),D=wo(vt,"beforeRouteEnter",y,O),D.push(f),$t(D))).then(()=>{D=[];for(const p of o.list())D.push(Xe(p,y,O));return D.push(f),$t(D)}).catch(p=>Fe(p,8)?p:Promise.reject(p))}function jt(y,O,D){a.list().forEach(M=>tt(()=>M(y,O,D)))}function ie(y,O,D,M,lt){const vt=U(y,O);if(vt)return vt;const f=O===Ke,p=$n?history.state:{};D&&(M||f?s.replace(y.fullPath,ht({scroll:f&&p&&p.scroll},lt)):s.push(y.fullPath,lt)),c.value=y,Te(y,O,D,f),He()}let ue;function dn(){ue||(ue=s.listen((y,O,D)=>{if(!Ss.listening)return;const M=N(y),lt=q(M);if(lt){gt(ht(lt,{replace:!0}),M).catch(Lr);return}l=M;const vt=c.value;$n&&O_(Bl(vt.fullPath,D.delta),ki()),yt(M,vt).catch(f=>Fe(f,12)?f:Fe(f,2)?(gt(f.to,M).then(p=>{Fe(p,20)&&!D.delta&&D.type===Xr.pop&&s.go(-1,!1)}).catch(Lr),Promise.reject()):(D.delta&&s.go(-D.delta,!1),ct(f,M,vt))).then(f=>{f=f||ie(M,vt,!1),f&&(D.delta&&!Fe(f,8)?s.go(-D.delta,!1):D.type===Xr.pop&&Fe(f,20)&&s.go(-1,!1)),jt(M,vt,f)}).catch(Lr)}))}let he=Ir(),at=Ir(),dt;function ct(y,O,D){He(y);const M=at.list();return M.length?M.forEach(lt=>lt(y,O,D)):console.error(y),Promise.reject(y)}function Le(){return dt&&c.value!==Ke?Promise.resolve():new Promise((y,O)=>{he.add([y,O])})}function He(y){return dt||(dt=!y,dn(),he.list().forEach(([O,D])=>y?D(y):O()),he.reset()),y}function Te(y,O,D,M){const{scrollBehavior:lt}=e;if(!$n||!lt)return Promise.resolve();const vt=!D&&k_(Bl(y.fullPath,0))||(M||!D)&&history.state&&history.state.scroll||null;return Ya().then(()=>lt(y,O,vt)).then(f=>f&&N_(f)).catch(f=>ct(f,y,O))}const te=y=>s.go(y);let Mn;const Ln=new Set,Ss={currentRoute:c,listening:!0,addRoute:g,removeRoute:w,hasRoute:I,getRoutes:S,resolve:N,options:e,push:W,replace:X,go:te,back:()=>te(-1),forward:()=>te(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:at.add,isReady:Le,install(y){const O=this;y.component("RouterLink",yy),y.component("RouterView",Af),y.config.globalProperties.$router=O,Object.defineProperty(y.config.globalProperties,"$route",{enumerable:!0,get:()=>Cn(c)}),$n&&!Mn&&c.value===Ke&&(Mn=!0,W(s.location).catch(lt=>{}));const D={};for(const lt in Ke)Object.defineProperty(D,lt,{get:()=>c.value[lt],enumerable:!0});y.provide(rc,O),y.provide(sc,Ph(D)),y.provide(ra,c);const M=y.unmount;Ln.add(y),y.unmount=function(){Ln.delete(y),Ln.size<1&&(l=Ke,ue&&ue(),ue=null,c.value=Ke,Mn=!1,dt=!1),M()}}};function $t(y){return y.reduce((O,D)=>O.then(()=>tt(D)),Promise.resolve())}return Ss}function Iy(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(l=>sr(l,a))?r.push(a):n.push(a));const c=e.matched[o];c&&(t.matched.find(l=>sr(l,c))||s.push(c))}return[n,r,s]}function _I(){return ye(sc)}var Zl={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},Ay=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],o=e[n++],a=e[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},Cf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,a=o?e[s+1]:0,c=s+2<e.length,l=c?e[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let d=(a&15)<<2|l>>6,g=l&63;c||(g=64,o||(d=64)),r.push(n[u],n[h],n[d],n[g])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Rf(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Ay(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const l=s<e.length?n[e.charAt(s)]:64;++s;const h=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||a==null||l==null||h==null)throw new Ry;const d=i<<2|a>>4;if(r.push(d),l!==64){const g=a<<4&240|l>>2;if(r.push(g),h!==64){const w=l<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ry extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cy=function(e){const t=Rf(e);return Cf.encodeByteArray(t,!0)},ii=function(e){return Cy(e).replace(/\./g,"")},Sy=function(e){try{return Cf.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=()=>Py().__FIREBASE_DEFAULTS__,Vy=()=>{if(typeof process>"u"||typeof Zl>"u")return;const e=Zl.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Dy=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Sy(e[1]);return t&&JSON.parse(t)},ic=()=>{try{return by()||Vy()||Dy()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},xy=e=>{var t,n;return(n=(t=ic())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Ny=e=>{const t=xy(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Sf=()=>{var e;return(e=ic())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",s=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ii(JSON.stringify(n)),ii(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function My(){var e;const t=(e=ic())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ly(){return!My()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pf(){try{return typeof indexedDB=="object"}catch{return!1}}function Fy(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="FirebaseError";class gr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=By,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bf.prototype.create)}}class bf{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?Uy(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new gr(s,a,r)}}function Uy(e,t){return e.replace(jy,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const jy=/\{\$([^}]+)}/g;function sa(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],o=t[s];if(tu(i)&&tu(o)){if(!sa(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function tu(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(e){return e&&e._delegate?e._delegate:e}class Jr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Oy;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Hy(t))try{this.getOrInitializeService({instanceIdentifier:mn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=mn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=mn){return this.instances.has(t)}getOptions(t=mn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(t,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(t),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&t(o,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qy(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=mn){return this.component?this.component.multipleInstances?t:mn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qy(e){return e===mn?void 0:e}function Hy(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new $y(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(rt||(rt={}));const Ky={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},Gy=rt.INFO,Wy={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},Qy=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=Wy[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Df{constructor(t){this.name=t,this._logLevel=Gy,this._logHandler=Qy,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in rt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ky[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...t),this._logHandler(this,rt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...t),this._logHandler(this,rt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...t),this._logHandler(this,rt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...t),this._logHandler(this,rt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...t),this._logHandler(this,rt.ERROR,...t)}}const Yy=(e,t)=>t.some(n=>e instanceof n);let eu,nu;function Xy(){return eu||(eu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Jy(){return nu||(nu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xf=new WeakMap,ia=new WeakMap,Nf=new WeakMap,Io=new WeakMap,oc=new WeakMap;function Zy(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(rn(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&xf.set(n,e)}).catch(()=>{}),oc.set(t,e),t}function tv(e){if(ia.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});ia.set(e,t)}let oa={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return ia.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Nf.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function ev(e){oa=e(oa)}function nv(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Ao(this),t,...n);return Nf.set(r,t.sort?t.sort():[t]),rn(r)}:Jy().includes(e)?function(...t){return e.apply(Ao(this),t),rn(xf.get(this))}:function(...t){return rn(e.apply(Ao(this),t))}}function rv(e){return typeof e=="function"?nv(e):(e instanceof IDBTransaction&&tv(e),Yy(e,Xy())?new Proxy(e,oa):e)}function rn(e){if(e instanceof IDBRequest)return Zy(e);if(Io.has(e))return Io.get(e);const t=rv(e);return t!==e&&(Io.set(e,t),oc.set(t,e)),t}const Ao=e=>oc.get(e);function sv(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(e,t),a=rn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(rn(o.result),c.oldVersion,c.newVersion,rn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const iv=["get","getKey","getAll","getAllKeys","count"],ov=["put","add","delete","clear"],Ro=new Map;function ru(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ro.get(t))return Ro.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=ov.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||iv.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),s&&c.done]))[0]};return Ro.set(t,i),i}ev(e=>({...e,get:(t,n,r)=>ru(t,n)||e.get(t,n,r),has:(t,n)=>!!ru(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cv(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cv(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const aa="@firebase/app",su="0.9.26";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn=new Df("@firebase/app"),lv="@firebase/app-compat",uv="@firebase/analytics-compat",hv="@firebase/analytics",fv="@firebase/app-check-compat",dv="@firebase/app-check",pv="@firebase/auth",gv="@firebase/auth-compat",mv="@firebase/database",_v="@firebase/database-compat",yv="@firebase/functions",vv="@firebase/functions-compat",Ev="@firebase/installations",Tv="@firebase/installations-compat",wv="@firebase/messaging",Iv="@firebase/messaging-compat",Av="@firebase/performance",Rv="@firebase/performance-compat",Cv="@firebase/remote-config",Sv="@firebase/remote-config-compat",Pv="@firebase/storage",bv="@firebase/storage-compat",Vv="@firebase/firestore",Dv="@firebase/firestore-compat",xv="firebase",Nv="10.7.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]",Ov={[aa]:"fire-core",[lv]:"fire-core-compat",[hv]:"fire-analytics",[uv]:"fire-analytics-compat",[dv]:"fire-app-check",[fv]:"fire-app-check-compat",[pv]:"fire-auth",[gv]:"fire-auth-compat",[mv]:"fire-rtdb",[_v]:"fire-rtdb-compat",[yv]:"fire-fn",[vv]:"fire-fn-compat",[Ev]:"fire-iid",[Tv]:"fire-iid-compat",[wv]:"fire-fcm",[Iv]:"fire-fcm-compat",[Av]:"fire-perf",[Rv]:"fire-perf-compat",[Cv]:"fire-rc",[Sv]:"fire-rc-compat",[Pv]:"fire-gcs",[bv]:"fire-gcs-compat",[Vv]:"fire-fst",[Dv]:"fire-fst-compat","fire-js":"fire-js",[xv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new Map,la=new Map;function kv(e,t){try{e.container.addComponent(t)}catch(n){bn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ci(e){const t=e.name;if(la.has(t))return bn.debug(`There were multiple attempts to register component ${t}.`),!1;la.set(t,e);for(const n of ai.values())kv(n,e);return!0}function Mv(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},sn=new bf("app","Firebase",Lv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw sn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=Nv;function Of(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:ca,automaticDataCollectionEnabled:!1},t),s=r.name;if(typeof s!="string"||!s)throw sn.create("bad-app-name",{appName:String(s)});if(n||(n=Sf()),!n)throw sn.create("no-options");const i=ai.get(s);if(i){if(sa(n,i.options)&&sa(r,i.config))return i;throw sn.create("duplicate-app",{appName:s})}const o=new zy(s);for(const c of la.values())o.addComponent(c);const a=new Fv(n,r,o);return ai.set(s,a),a}function Uv(e=ca){const t=ai.get(e);if(!t&&e===ca&&Sf())return Of();if(!t)throw sn.create("no-app",{appName:e});return t}function Xn(e,t,n){var r;let s=(r=Ov[e])!==null&&r!==void 0?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${t}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),bn.warn(a.join(" "));return}ci(new Jr(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="firebase-heartbeat-database",$v=1,Zr="firebase-heartbeat-store";let Co=null;function kf(){return Co||(Co=sv(jv,$v,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Zr)}catch(n){console.warn(n)}}}}).catch(e=>{throw sn.create("idb-open",{originalErrorMessage:e.message})})),Co}async function qv(e){try{return await(await kf()).transaction(Zr).objectStore(Zr).get(Mf(e))}catch(t){if(t instanceof gr)bn.warn(t.message);else{const n=sn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});bn.warn(n.message)}}}async function iu(e,t){try{const r=(await kf()).transaction(Zr,"readwrite");await r.objectStore(Zr).put(t,Mf(e)),await r.done}catch(n){if(n instanceof gr)bn.warn(n.message);else{const r=sn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bn.warn(r.message)}}}function Mf(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=1024,zv=30*24*60*60*1e3;class Kv{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Wv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ou();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=zv}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ou(),{heartbeatsToSend:r,unsentEntries:s}=Gv(this._heartbeatsCache.heartbeats),i=ii(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ou(){return new Date().toISOString().substring(0,10)}function Gv(e,t=Hv){const n=[];let r=e.slice();for(const s of e){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),au(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),au(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Wv{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Pf()?Fy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qv(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return iu(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return iu(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function au(e){return ii(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(e){ci(new Jr("platform-logger",t=>new av(t),"PRIVATE")),ci(new Jr("heartbeat",t=>new Kv(t),"PRIVATE")),Xn(aa,su,e),Xn(aa,su,"esm2017"),Xn("fire-js","")}Qv("");var Yv="firebase",Xv="10.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(Yv,Xv,"app");let Lf;async function Jv(){Lf=Of({apiKey:"AIzaSyCV8DZ9624X8PzB8LJRs2lPBABDMDJWlbw",authDomain:"nweb-projekt6.firebaseapp.com",projectId:"nweb-projekt6",storageBucket:"nweb-projekt6.appspot.com",messagingSenderId:"677479275412",appId:"1:677479275412:web:a93e4ac11890294ead8d81",measurementId:"G-MNM05XVHJ0"})}function Zv(){return Lf}const Mi=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},tE={__name:"App",setup(e){return Jv(),(t,n)=>(Yn(),sf(Cn(Af)))}},eE=Mi(tE,[["__scopeId","data-v-41267849"]]),nE="modulepreload",rE=function(e){return"/"+e},cu={},lu=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link");s=Promise.all(n.map(o=>{if(o=rE(o),o in cu)return;cu[o]=!0;const a=o.endsWith(".css"),c=a?'[rel="stylesheet"]':"";if(!!r)for(let h=i.length-1;h>=0;h--){const d=i[h];if(d.href===o&&(!a||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":nE,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((h,d)=>{u.addEventListener("load",h),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})}))}return s.then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},sE={props:{card:{type:Object,required:!0}},emits:["cardClick"],methods:{handleCardClick(){this.$emit("cardClick",this.card)}}},iE={class:"card"},oE=["src","alt"];function aE(e,t,n,r,s,i){const o=Ja("RouterLink");return Yn(),ni("div",iE,[ne(o,{to:`/card/${n.card.id}`,onClick:i.handleCardClick},{default:Uh(()=>[ce("h3",null,Ua(n.card.title),1)]),_:1},8,["to","onClick"]),ce("img",{src:n.card.image,alt:n.card.title,width:"100",height:"150"},null,8,oE)])}const cE=Mi(sE,[["render",aE],["__scopeId","data-v-f502b4a5"]]);var lE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},b,ac=ac||{},z=lE||self;function Li(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function gs(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function uE(e){return Object.prototype.hasOwnProperty.call(e,So)&&e[So]||(e[So]=++hE)}var So="closure_uid_"+(1e9*Math.random()>>>0),hE=0;function fE(e,t,n){return e.call.apply(e.bind,arguments)}function dE(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function Gt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Gt=fE:Gt=dE,Gt.apply(null,arguments)}function Os(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Ot(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[s].apply(r,o)}}function hn(){this.s=this.s,this.o=this.o}var pE=0;hn.prototype.s=!1;hn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),pE!=0)&&uE(this)};hn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ff=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function cc(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function uu(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Li(r)){const s=e.length||0,i=r.length||0;e.length=s+i;for(let o=0;o<i;o++)e[s+o]=r[o]}else e.push(r)}}function Wt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Wt.prototype.h=function(){this.defaultPrevented=!0};var gE=function(){if(!z.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};z.addEventListener("test",n,t),z.removeEventListener("test",n,t)}catch{}return e}();function ts(e){return/^[\s\xa0]*$/.test(e)}function Fi(){var e=z.navigator;return e&&(e=e.userAgent)?e:""}function Se(e){return Fi().indexOf(e)!=-1}function lc(e){return lc[" "](e),e}lc[" "]=function(){};function mE(e,t){var n=cT;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var _E=Se("Opera"),or=Se("Trident")||Se("MSIE"),Bf=Se("Edge"),ua=Bf||or,Uf=Se("Gecko")&&!(Fi().toLowerCase().indexOf("webkit")!=-1&&!Se("Edge"))&&!(Se("Trident")||Se("MSIE"))&&!Se("Edge"),yE=Fi().toLowerCase().indexOf("webkit")!=-1&&!Se("Edge");function jf(){var e=z.document;return e?e.documentMode:void 0}var ha;t:{var Po="",bo=function(){var e=Fi();if(Uf)return/rv:([^\);]+)(\)|;)/.exec(e);if(Bf)return/Edge\/([\d\.]+)/.exec(e);if(or)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(yE)return/WebKit\/(\S+)/.exec(e);if(_E)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(bo&&(Po=bo?bo[1]:""),or){var Vo=jf();if(Vo!=null&&Vo>parseFloat(Po)){ha=String(Vo);break t}}ha=Po}var fa;if(z.document&&or){var hu=jf();fa=hu||parseInt(ha,10)||void 0}else fa=void 0;var vE=fa;function es(e,t){if(Wt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Uf){t:{try{lc(t.nodeName);var s=!0;break t}catch{}s=!1}s||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:EE[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&es.$.h.call(this)}}Ot(es,Wt);var EE={2:"touch",3:"pen",4:"mouse"};es.prototype.h=function(){es.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ms="closure_listenable_"+(1e6*Math.random()|0),TE=0;function wE(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=s,this.key=++TE,this.fa=this.ia=!1}function Bi(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function uc(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function IE(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function $f(e){const t={};for(const n in e)t[n]=e[n];return t}const fu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qf(e,t){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)e[n]=r[n];for(let i=0;i<fu.length;i++)n=fu[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ui(e){this.src=e,this.g={},this.h=0}Ui.prototype.add=function(e,t,n,r,s){var i=e.toString();e=this.g[i],e||(e=this.g[i]=[],this.h++);var o=pa(e,t,r,s);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new wE(t,this.src,i,!!r,s),t.ia=n,e.push(t)),t};function da(e,t){var n=t.type;if(n in e.g){var r=e.g[n],s=Ff(r,t),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Bi(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function pa(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.fa&&i.listener==t&&i.capture==!!n&&i.la==r)return s}return-1}var hc="closure_lm_"+(1e6*Math.random()|0),Do={};function Hf(e,t,n,r,s){if(r&&r.once)return Kf(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)Hf(e,t[i],n,r,s);return null}return n=pc(n),e&&e[ms]?e.O(t,n,gs(r)?!!r.capture:!!r,s):zf(e,t,n,!1,r,s)}function zf(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=gs(s)?!!s.capture:!!s,a=dc(e);if(a||(e[hc]=a=new Ui(e)),n=a.add(t,n,r,o,i),n.proxy)return n;if(r=AE(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)gE||(s=o),s===void 0&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(Wf(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function AE(){function e(n){return t.call(e.src,e.listener,n)}const t=RE;return e}function Kf(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)Kf(e,t[i],n,r,s);return null}return n=pc(n),e&&e[ms]?e.P(t,n,gs(r)?!!r.capture:!!r,s):zf(e,t,n,!0,r,s)}function Gf(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)Gf(e,t[i],n,r,s);else r=gs(r)?!!r.capture:!!r,n=pc(n),e&&e[ms]?(e=e.i,t=String(t).toString(),t in e.g&&(i=e.g[t],n=pa(i,n,r,s),-1<n&&(Bi(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete e.g[t],e.h--)))):e&&(e=dc(e))&&(t=e.g[t.toString()],e=-1,t&&(e=pa(t,n,r,s)),(n=-1<e?t[e]:null)&&fc(n))}function fc(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[ms])da(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Wf(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=dc(t))?(da(n,e),n.h==0&&(n.src=null,t[hc]=null)):Bi(e)}}}function Wf(e){return e in Do?Do[e]:Do[e]="on"+e}function RE(e,t){if(e.fa)e=!0;else{t=new es(t,this);var n=e.listener,r=e.la||e.src;e.ia&&fc(e),e=n.call(r,t)}return e}function dc(e){return e=e[hc],e instanceof Ui?e:null}var xo="__closure_events_fn_"+(1e9*Math.random()>>>0);function pc(e){return typeof e=="function"?e:(e[xo]||(e[xo]=function(t){return e.handleEvent(t)}),e[xo])}function Nt(){hn.call(this),this.i=new Ui(this),this.S=this,this.J=null}Ot(Nt,hn);Nt.prototype[ms]=!0;Nt.prototype.removeEventListener=function(e,t,n,r){Gf(this,e,t,n,r)};function Ft(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Wt(t,e);else if(t instanceof Wt)t.target=t.target||e;else{var s=t;t=new Wt(r,e),qf(t,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];s=ks(o,r,!0,t)&&s}if(o=t.g=e,s=ks(o,r,!0,t)&&s,s=ks(o,r,!1,t)&&s,n)for(i=0;i<n.length;i++)o=t.g=n[i],s=ks(o,r,!1,t)&&s}Nt.prototype.N=function(){if(Nt.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Bi(n[r]);delete e.g[t],e.h--}}this.J=null};Nt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Nt.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function ks(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&da(e.i,o),s=a.call(c,r)!==!1&&s}}return s&&!r.defaultPrevented}var gc=z.JSON.stringify;class CE{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function SE(){var e=mc;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class PE{constructor(){this.h=this.g=null}add(t,n){const r=Qf.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Qf=new CE(()=>new bE,e=>e.reset());class bE{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function VE(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function DE(e){z.setTimeout(()=>{throw e},0)}let ns,rs=!1,mc=new PE,Yf=()=>{const e=z.Promise.resolve(void 0);ns=()=>{e.then(xE)}};var xE=()=>{for(var e;e=SE();){try{e.h.call(e.g)}catch(n){DE(n)}var t=Qf;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}rs=!1};function ji(e,t){Nt.call(this),this.h=e||1,this.g=t||z,this.j=Gt(this.qb,this),this.l=Date.now()}Ot(ji,Nt);b=ji.prototype;b.ga=!1;b.T=null;b.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ft(this,"tick"),this.ga&&(_c(this),this.start()))}};b.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function _c(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}b.N=function(){ji.$.N.call(this),_c(this),delete this.g};function yc(e,t,n){if(typeof e=="function")n&&(e=Gt(e,n));else if(e&&typeof e.handleEvent=="function")e=Gt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:z.setTimeout(e,t||0)}function Xf(e){e.g=yc(()=>{e.g=null,e.i&&(e.i=!1,Xf(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class NE extends hn{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Xf(this)}N(){super.N(),this.g&&(z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ss(e){hn.call(this),this.h=e,this.g={}}Ot(ss,hn);var du=[];function Jf(e,t,n,r){Array.isArray(n)||(n&&(du[0]=n.toString()),n=du);for(var s=0;s<n.length;s++){var i=Hf(t,n[s],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function Zf(e){uc(e.g,function(t,n){this.g.hasOwnProperty(n)&&fc(t)},e),e.g={}}ss.prototype.N=function(){ss.$.N.call(this),Zf(this)};ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function $i(){this.g=!0}$i.prototype.Ea=function(){this.g=!1};function OE(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var o="",a=i.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+`
`+n+`
`+o})}function kE(e,t,n,r,s,i,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+`
`+n+`
`+i+" "+o})}function Kn(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+LE(e,n)+(r?" "+r:"")})}function ME(e,t){e.info(function(){return"TIMEOUT: "+t})}$i.prototype.info=function(){};function LE(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return gc(n)}catch{return t}}var kn={},pu=null;function qi(){return pu=pu||new Nt}kn.Ta="serverreachability";function td(e){Wt.call(this,kn.Ta,e)}Ot(td,Wt);function is(e){const t=qi();Ft(t,new td(t))}kn.STAT_EVENT="statevent";function ed(e,t){Wt.call(this,kn.STAT_EVENT,e),this.stat=t}Ot(ed,Wt);function Zt(e){const t=qi();Ft(t,new ed(t,e))}kn.Ua="timingevent";function nd(e,t){Wt.call(this,kn.Ua,e),this.size=t}Ot(nd,Wt);function _s(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return z.setTimeout(function(){e()},t)}var Hi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},rd={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function vc(){}vc.prototype.h=null;function gu(e){return e.h||(e.h=e.i())}function sd(){}var ys={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ec(){Wt.call(this,"d")}Ot(Ec,Wt);function Tc(){Wt.call(this,"c")}Ot(Tc,Wt);var ga;function zi(){}Ot(zi,vc);zi.prototype.g=function(){return new XMLHttpRequest};zi.prototype.i=function(){return{}};ga=new zi;function vs(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ss(this),this.P=FE,e=ua?125:void 0,this.V=new ji(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new id}function id(){this.i=null,this.g="",this.h=!1}var FE=45e3,od={},ma={};b=vs.prototype;b.setTimeout=function(e){this.P=e};function _a(e,t,n){e.L=1,e.A=Gi($e(t)),e.u=n,e.S=!0,ad(e,null)}function ad(e,t){e.G=Date.now(),Es(e),e.B=$e(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),gd(n.i,"t",r),e.o=0,n=e.l.J,e.h=new id,e.g=Md(e.l,n?t:null,!e.u),0<e.O&&(e.M=new NE(Gt(e.Pa,e,e.g),e.O)),Jf(e.U,e.g,"readystatechange",e.nb),t=e.I?$f(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),is(),OE(e.j,e.v,e.B,e.m,e.W,e.u)}b.nb=function(e){e=e.target;const t=this.M;t&&be(e)==3?t.l():this.Pa(e)};b.Pa=function(e){try{if(e==this.g)t:{const u=be(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||ua||this.g&&(this.h.h||this.g.ja()||vu(this.g)))){this.J||u!=4||t==7||(t==8||0>=h?is(3):is(2)),Ki(this);var n=this.g.da();this.ca=n;e:if(cd(this)){var r=vu(this.g);e="";var s=r.length,i=be(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){En(this),Br(this);var o="";break e}this.h.i=new z.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:i&&t==s-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,kE(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ts(a)){var l=a;break e}}l=null}if(n=l)Kn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ya(this,n);else{this.i=!1,this.s=3,Zt(12),En(this),Br(this);break t}}this.S?(ld(this,u,o),ua&&this.i&&u==3&&(Jf(this.U,this.V,"tick",this.mb),this.V.start())):(Kn(this.j,this.m,o,null),ya(this,o)),u==4&&En(this),this.i&&!this.J&&(u==4?xd(this.l,this):(this.i=!1,Es(this)))}else iT(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Zt(12)):(this.s=0,Zt(13)),En(this),Br(this)}}}catch{}finally{}};function cd(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function ld(e,t,n){let r=!0,s;for(;!e.J&&e.o<n.length;)if(s=BE(e,n),s==ma){t==4&&(e.s=4,Zt(14),r=!1),Kn(e.j,e.m,null,"[Incomplete Response]");break}else if(s==od){e.s=4,Zt(15),Kn(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Kn(e.j,e.m,s,null),ya(e,s);cd(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,Zt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Sc(t),t.M=!0,Zt(11))):(Kn(e.j,e.m,n,"[Invalid Chunked Response]"),En(e),Br(e))}b.mb=function(){if(this.g){var e=be(this.g),t=this.g.ja();this.o<t.length&&(Ki(this),ld(this,e,t),this.i&&e!=4&&Es(this))}};function BE(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?ma:(n=Number(t.substring(n,r)),isNaN(n)?od:(r+=1,r+n>t.length?ma:(t=t.slice(r,r+n),e.o=r+n,t)))}b.cancel=function(){this.J=!0,En(this)};function Es(e){e.Y=Date.now()+e.P,ud(e,e.P)}function ud(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=_s(Gt(e.lb,e),t)}function Ki(e){e.C&&(z.clearTimeout(e.C),e.C=null)}b.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(ME(this.j,this.B),this.L!=2&&(is(),Zt(17)),En(this),this.s=2,Br(this)):ud(this,this.Y-e)};function Br(e){e.l.H==0||e.J||xd(e.l,e)}function En(e){Ki(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,_c(e.V),Zf(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function ya(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||va(n.i,e))){if(!e.K&&va(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)hi(n),Xi(n);else break t;Cc(n),Zt(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=_s(Gt(n.ib,n),6e3));if(1>=yd(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Tn(n,11)}else if((e.K||n.g==e)&&hi(n),!ts(t))for(s=n.Ja.g.parse(t),t=0;t<s.length;t++){let l=s[t];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=l[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=l[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=e.g;if(g){const w=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var i=r.i;i.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(wc(i,i.h),i.h=null))}if(r.F){const S=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;S&&(r.Da=S,_t(r.I,r.F,S))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=kd(r,r.J?r.pa:null,r.Y),o.K){vd(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Ki(a),Es(a)),r.g=o}else Vd(r);0<n.j.length&&Ji(n)}else l[0]!="stop"&&l[0]!="close"||Tn(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Tn(n,7):Rc(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}is(4)}catch{}}function UE(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Li(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function jE(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Li(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function hd(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Li(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=jE(e),r=UE(e),s=r.length,i=0;i<s;i++)t.call(void 0,r[i],n&&n[i],e)}var fd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $E(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Sn(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Sn){this.h=e.h,li(this,e.j),this.s=e.s,this.g=e.g,ui(this,e.m),this.l=e.l;var t=e.i,n=new os;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),mu(this,n),this.o=e.o}else e&&(t=String(e).match(fd))?(this.h=!1,li(this,t[1]||"",!0),this.s=Pr(t[2]||""),this.g=Pr(t[3]||"",!0),ui(this,t[4]),this.l=Pr(t[5]||"",!0),mu(this,t[6]||"",!0),this.o=Pr(t[7]||"")):(this.h=!1,this.i=new os(null,this.h))}Sn.prototype.toString=function(){var e=[],t=this.j;t&&e.push(br(t,_u,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(br(t,_u,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(br(n,n.charAt(0)=="/"?zE:HE,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",br(n,GE)),e.join("")};function $e(e){return new Sn(e)}function li(e,t,n){e.j=n?Pr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ui(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function mu(e,t,n){t instanceof os?(e.i=t,WE(e.i,e.h)):(n||(t=br(t,KE)),e.i=new os(t,e.h))}function _t(e,t,n){e.i.set(t,n)}function Gi(e){return _t(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Pr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function br(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,qE),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qE(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var _u=/[#\/\?@]/g,HE=/[#\?:]/g,zE=/[#\?]/g,KE=/[#\?@]/g,GE=/#/g;function os(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function fn(e){e.g||(e.g=new Map,e.h=0,e.i&&$E(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}b=os.prototype;b.add=function(e,t){fn(this),this.i=null,e=mr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function dd(e,t){fn(e),t=mr(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function pd(e,t){return fn(e),t=mr(e,t),e.g.has(t)}b.forEach=function(e,t){fn(this),this.g.forEach(function(n,r){n.forEach(function(s){e.call(t,s,r,this)},this)},this)};b.ta=function(){fn(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let i=0;i<s.length;i++)n.push(t[r])}return n};b.Z=function(e){fn(this);let t=[];if(typeof e=="string")pd(this,e)&&(t=t.concat(this.g.get(mr(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};b.set=function(e,t){return fn(this),this.i=null,e=mr(this,e),pd(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};b.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function gd(e,t,n){dd(e,t),0<n.length&&(e.i=null,e.g.set(mr(e,t),cc(n)),e.h+=n.length)}b.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),e.push(s)}}return this.i=e.join("&")};function mr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function WE(e,t){t&&!e.j&&(fn(e),e.i=null,e.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(dd(this,r),gd(this,s,n))},e)),e.j=t}var QE=class{constructor(e,t){this.g=e,this.map=t}};function md(e){this.l=e||YE,z.PerformanceNavigationTiming?(e=z.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(z.g&&z.g.Ka&&z.g.Ka()&&z.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var YE=10;function _d(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function yd(e){return e.h?1:e.g?e.g.size:0}function va(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function wc(e,t){e.g?e.g.add(t):e.h=t}function vd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}md.prototype.cancel=function(){if(this.i=Ed(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Ed(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return cc(e.i)}var XE=class{stringify(e){return z.JSON.stringify(e,void 0)}parse(e){return z.JSON.parse(e,void 0)}};function JE(){this.g=new XE}function ZE(e,t,n){const r=n||"";try{hd(e,function(s,i){let o=s;gs(s)&&(o=gc(s)),t.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function tT(e,t){const n=new $i;if(z.Image){const r=new Image;r.onload=Os(Ms,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Os(Ms,n,r,"TestLoadImage: error",!1,t),r.onabort=Os(Ms,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Os(Ms,n,r,"TestLoadImage: timeout",!1,t),z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Ms(e,t,n,r,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(r)}catch{}}function Wi(e){this.l=e.ec||null,this.j=e.ob||!1}Ot(Wi,vc);Wi.prototype.g=function(){return new Qi(this.l,this.j)};Wi.prototype.i=function(e){return function(){return e}}({});function Qi(e,t){Nt.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Ic,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ot(Qi,Nt);var Ic=0;b=Qi.prototype;b.open=function(e,t){if(this.readyState!=Ic)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,as(this)};b.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||z).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};b.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ts(this)),this.readyState=Ic};b.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,as(this)),this.g&&(this.readyState=3,as(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof z.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Td(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function Td(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}b.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ts(this):as(this),this.readyState==3&&Td(this)}};b.Za=function(e){this.g&&(this.response=this.responseText=e,Ts(this))};b.Ya=function(e){this.g&&(this.response=e,Ts(this))};b.ka=function(){this.g&&Ts(this)};function Ts(e){e.readyState=4,e.l=null,e.j=null,e.A=null,as(e)}b.setRequestHeader=function(e,t){this.v.append(e,t)};b.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};b.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function as(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var eT=z.JSON.parse;function It(e){Nt.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=wd,this.L=this.M=!1}Ot(It,Nt);var wd="",nT=/^https?$/i,rT=["POST","PUT"];b=It.prototype;b.Oa=function(e){this.M=e};b.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ga.g(),this.C=this.u?gu(this.u):gu(ga),this.g.onreadystatechange=Gt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(i){yu(this,i);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=z.FormData&&e instanceof z.FormData,!(0<=Ff(rT,t))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Rd(this),0<this.B&&((this.L=sT(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gt(this.ua,this)):this.A=yc(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){yu(this,i)}};function sT(e){return or&&typeof e.timeout=="number"&&e.ontimeout!==void 0}b.ua=function(){typeof ac<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ft(this,"timeout"),this.abort(8))};function yu(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Id(e),Yi(e)}function Id(e){e.F||(e.F=!0,Ft(e,"complete"),Ft(e,"error"))}b.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ft(this,"complete"),Ft(this,"abort"),Yi(this))};b.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yi(this,!0)),It.$.N.call(this)};b.La=function(){this.s||(this.G||this.v||this.l?Ad(this):this.kb())};b.kb=function(){Ad(this)};function Ad(e){if(e.h&&typeof ac<"u"&&(!e.C[1]||be(e)!=4||e.da()!=2)){if(e.v&&be(e)==4)yc(e.La,0,e);else if(Ft(e,"readystatechange"),be(e)==4){e.h=!1;try{const o=e.da();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var s=String(e.I).match(fd)[1]||null;!s&&z.self&&z.self.location&&(s=z.self.location.protocol.slice(0,-1)),r=!nT.test(s?s.toLowerCase():"")}n=r}if(n)Ft(e,"complete"),Ft(e,"success");else{e.m=6;try{var i=2<be(e)?e.g.statusText:""}catch{i=""}e.j=i+" ["+e.da()+"]",Id(e)}}finally{Yi(e)}}}}function Yi(e,t){if(e.g){Rd(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Ft(e,"ready");try{n.onreadystatechange=r}catch{}}}function Rd(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(z.clearTimeout(e.A),e.A=null)}b.isActive=function(){return!!this.g};function be(e){return e.g?e.g.readyState:0}b.da=function(){try{return 2<be(this)?this.g.status:-1}catch{return-1}};b.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};b.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),eT(t)}};function vu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case wd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function iT(e){const t={};e=(e.g&&2<=be(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(ts(e[r]))continue;var n=VE(e[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}IE(t,function(r){return r.join(", ")})}b.Ia=function(){return this.m};b.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Cd(e){let t="";return uc(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Ac(e,t,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=Cd(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):_t(e,t,n))}function Ar(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Sd(e){this.Ga=0,this.j=[],this.l=new $i,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ar("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ar("baseRetryDelayMs",5e3,e),this.hb=Ar("retryDelaySeedMs",1e4,e),this.eb=Ar("forwardChannelMaxRetries",2,e),this.xa=Ar("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new md(e&&e.concurrentRequestLimit),this.Ja=new JE,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}b=Sd.prototype;b.ra=8;b.H=1;function Rc(e){if(Pd(e),e.H==3){var t=e.W++,n=$e(e.I);if(_t(n,"SID",e.K),_t(n,"RID",t),_t(n,"TYPE","terminate"),ws(e,n),t=new vs(e,e.l,t),t.L=2,t.A=Gi($e(n)),n=!1,z.navigator&&z.navigator.sendBeacon)try{n=z.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&z.Image&&(new Image().src=t.A,n=!0),n||(t.g=Md(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Es(t)}Od(e)}function Xi(e){e.g&&(Sc(e),e.g.cancel(),e.g=null)}function Pd(e){Xi(e),e.u&&(z.clearTimeout(e.u),e.u=null),hi(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&z.clearTimeout(e.m),e.m=null)}function Ji(e){if(!_d(e.i)&&!e.m){e.m=!0;var t=e.Na;ns||Yf(),rs||(ns(),rs=!0),mc.add(t,e),e.C=0}}function oT(e,t){return yd(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=_s(Gt(e.Na,e,t),Nd(e,e.C)),e.C++,!0)}b.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const s=new vs(this,this.l,e);let i=this.s;if(this.U&&(i?(i=$f(i),qf(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break e}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=bd(this,s,t),n=$e(this.I),_t(n,"RID",e),_t(n,"CVER",22),this.F&&_t(n,"X-HTTP-Session-Id",this.F),ws(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Cd(i)))+"&"+t:this.o&&Ac(n,this.o,i)),wc(this.i,s),this.bb&&_t(n,"TYPE","init"),this.P?(_t(n,"$req",t),_t(n,"SID","null"),s.aa=!0,_a(s,n,null)):_a(s,n,t),this.H=2}}else this.H==3&&(e?Eu(this,e):this.j.length==0||_d(this.i)||Eu(this))};function Eu(e,t){var n;t?n=t.m:n=e.W++;const r=$e(e.I);_t(r,"SID",e.K),_t(r,"RID",n),_t(r,"AID",e.V),ws(e,r),e.o&&e.s&&Ac(r,e.o,e.s),n=new vs(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=bd(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),wc(e.i,n),_a(n,r,t)}function ws(e,t){e.na&&uc(e.na,function(n,r){_t(t,r,n)}),e.h&&hd({},function(n,r){_t(t,r,n)})}function bd(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Gt(e.h.Va,e.h,e):null;t:{var s=e.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let c=0;c<n;c++){let l=s[c].g;const u=s[c].map;if(l-=i,0>l)i=Math.max(0,s[c].g-100),a=!1;else try{ZE(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,r}function Vd(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ns||Yf(),rs||(ns(),rs=!0),mc.add(t,e),e.A=0}}function Cc(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=_s(Gt(e.Ma,e),Nd(e,e.A)),e.A++,!0)}b.Ma=function(){if(this.u=null,Dd(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=_s(Gt(this.jb,this),e)}};b.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Zt(10),Xi(this),Dd(this))};function Sc(e){e.B!=null&&(z.clearTimeout(e.B),e.B=null)}function Dd(e){e.g=new vs(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=$e(e.wa);_t(t,"RID","rpc"),_t(t,"SID",e.K),_t(t,"AID",e.V),_t(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&_t(t,"TO",e.qa),_t(t,"TYPE","xmlhttp"),ws(e,t),e.o&&e.s&&Ac(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Gi($e(t)),n.u=null,n.S=!0,ad(n,e)}b.ib=function(){this.v!=null&&(this.v=null,Xi(this),Cc(this),Zt(19))};function hi(e){e.v!=null&&(z.clearTimeout(e.v),e.v=null)}function xd(e,t){var n=null;if(e.g==t){hi(e),Sc(e),e.g=null;var r=2}else if(va(e.i,t))n=t.F,vd(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var s=e.C;r=qi(),Ft(r,new nd(r,n)),Ji(e)}else Vd(e);else if(s=t.s,s==3||s==0&&0<t.ca||!(r==1&&oT(e,t)||r==2&&Cc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:Tn(e,5);break;case 4:Tn(e,10);break;case 3:Tn(e,6);break;default:Tn(e,2)}}}function Nd(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Tn(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Gt(e.pb,e);n||(n=new Sn("//www.google.com/images/cleardot.gif"),z.location&&z.location.protocol=="http"||li(n,"https"),Gi(n)),tT(n.toString(),r)}else Zt(2);e.H=0,e.h&&e.h.za(t),Od(e),Pd(e)}b.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Zt(2)):(this.l.info("Failed to ping google.com"),Zt(1))};function Od(e){if(e.H=0,e.ma=[],e.h){const t=Ed(e.i);(t.length!=0||e.j.length!=0)&&(uu(e.ma,t),uu(e.ma,e.j),e.i.i.length=0,cc(e.j),e.j.length=0),e.h.ya()}}function kd(e,t,n){var r=n instanceof Sn?$e(n):new Sn(n);if(r.g!="")t&&(r.g=t+"."+r.g),ui(r,r.m);else{var s=z.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var i=new Sn(null);r&&li(i,r),t&&(i.g=t),s&&ui(i,s),n&&(i.l=n),r=i}return n=e.F,t=e.Da,n&&t&&_t(r,n,t),_t(r,"VER",e.ra),ws(e,r),r}function Md(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new It(new Wi({ob:n})):new It(e.va),t.Oa(e.J),t}b.isActive=function(){return!!this.h&&this.h.isActive(this)};function Ld(){}b=Ld.prototype;b.Ba=function(){};b.Aa=function(){};b.za=function(){};b.ya=function(){};b.isActive=function(){return!0};b.Va=function(){};function fi(){if(or&&!(10<=Number(vE)))throw Error("Environmental error: no available transport.")}fi.prototype.g=function(e,t){return new le(e,t)};function le(e,t){Nt.call(this),this.g=new Sd(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ts(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ts(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new _r(this)}Ot(le,Nt);le.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Zt(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=kd(e,null,e.Y),Ji(e)};le.prototype.close=function(){Rc(this.g)};le.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=gc(e),e=n);t.j.push(new QE(t.fb++,e)),t.H==3&&Ji(t)};le.prototype.N=function(){this.g.h=null,delete this.j,Rc(this.g),delete this.g,le.$.N.call(this)};function Fd(e){Ec.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Ot(Fd,Ec);function Bd(){Tc.call(this),this.status=1}Ot(Bd,Tc);function _r(e){this.g=e}Ot(_r,Ld);_r.prototype.Ba=function(){Ft(this.g,"a")};_r.prototype.Aa=function(e){Ft(this.g,new Fd(e))};_r.prototype.za=function(e){Ft(this.g,new Bd)};_r.prototype.ya=function(){Ft(this.g,"b")};function aT(){this.blockSize=-1}function Ee(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ot(Ee,aT);Ee.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function No(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],o=t+(i^n&(s^i))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[1]+3905402710&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(i^n&(s^i))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[5]+1200080426&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(i^n&(s^i))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[9]+2336552879&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(i^n&(s^i))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[13]+4254626195&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(s^i&(n^s))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[6]+3225465664&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^i&(n^s))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[10]+38016083&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^i&(n^s))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[14]+3275163606&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^i&(n^s))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[2]+4243563512&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(n^s^i)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[8]+2272392833&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^i)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[4]+1272893353&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^i)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[0]+3936430074&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^i)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[12]+3873151461&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(s^(n|~i))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[7]+1126891415&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~i))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[3]+2399980690&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~i))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[15]+4264355552&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~i))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[11]+3174756917&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}Ee.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,s=this.h,i=0;i<t;){if(s==0)for(;i<=n;)No(this,e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(r[s++]=e.charCodeAt(i++),s==this.blockSize){No(this,r),s=0;break}}else for(;i<t;)if(r[s++]=e[i++],s==this.blockSize){No(this,r),s=0;break}}this.h=s,this.i+=t};Ee.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function ft(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=e[s]|0;r&&i==t||(n[s]=i,r=!1)}this.g=n}var cT={};function Pc(e){return-128<=e&&128>e?mE(e,function(t){return new ft([t|0],0>t?-1:0)}):new ft([e|0],0>e?-1:0)}function Ve(e){if(isNaN(e)||!isFinite(e))return Jn;if(0>e)return Mt(Ve(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Ea;return new ft(t,0)}function Ud(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Mt(Ud(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ve(Math.pow(t,8)),r=Jn,s=0;s<e.length;s+=8){var i=Math.min(8,e.length-s),o=parseInt(e.substring(s,s+i),t);8>i?(i=Ve(Math.pow(t,i)),r=r.R(i).add(Ve(o))):(r=r.R(n),r=r.add(Ve(o)))}return r}var Ea=4294967296,Jn=Pc(0),Ta=Pc(1),Tu=Pc(16777216);b=ft.prototype;b.ea=function(){if(de(this))return-Mt(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Ea+r)*t,t*=Ea}return e};b.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Be(this))return"0";if(de(this))return"-"+Mt(this).toString(e);for(var t=Ve(Math.pow(e,6)),n=this,r="";;){var s=pi(n,t).g;n=di(n,s.R(t));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=s,Be(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};b.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Be(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function de(e){return e.h==-1}b.X=function(e){return e=di(this,e),de(e)?-1:Be(e)?0:1};function Mt(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new ft(n,~e.h).add(Ta)}b.abs=function(){return de(this)?Mt(this):this};b.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,s=0;s<=t;s++){var i=r+(this.D(s)&65535)+(e.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new ft(n,n[n.length-1]&-2147483648?-1:0)};function di(e,t){return e.add(Mt(t))}b.R=function(e){if(Be(this)||Be(e))return Jn;if(de(this))return de(e)?Mt(this).R(Mt(e)):Mt(Mt(this).R(e));if(de(e))return Mt(this.R(Mt(e)));if(0>this.X(Tu)&&0>e.X(Tu))return Ve(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<e.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(s)>>>16,c=e.D(s)&65535;n[2*r+2*s]+=o*c,Ls(n,2*r+2*s),n[2*r+2*s+1]+=i*c,Ls(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,Ls(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,Ls(n,2*r+2*s+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new ft(n,0)};function Ls(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Rr(e,t){this.g=e,this.h=t}function pi(e,t){if(Be(t))throw Error("division by zero");if(Be(e))return new Rr(Jn,Jn);if(de(e))return t=pi(Mt(e),t),new Rr(Mt(t.g),Mt(t.h));if(de(t))return t=pi(e,Mt(t)),new Rr(Mt(t.g),t.h);if(30<e.g.length){if(de(e)||de(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Ta,r=t;0>=r.X(e);)n=wu(n),r=wu(r);var s=Un(n,1),i=Un(r,1);for(r=Un(r,2),n=Un(n,2);!Be(r);){var o=i.add(r);0>=o.X(e)&&(s=s.add(n),i=o),r=Un(r,1),n=Un(n,1)}return t=di(e,s.R(t)),new Rr(s,t)}for(s=Jn;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Ve(n),o=i.R(t);de(o)||0<o.X(e);)n-=r,i=Ve(n),o=i.R(t);Be(i)&&(i=Ta),s=s.add(i),e=di(e,o)}return new Rr(s,e)}b.gb=function(e){return pi(this,e).h};b.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new ft(n,this.h&e.h)};b.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new ft(n,this.h|e.h)};b.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new ft(n,this.h^e.h)};function wu(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new ft(n,e.h)}function Un(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,s=[],i=0;i<r;i++)s[i]=0<t?e.D(i+n)>>>t|e.D(i+n+1)<<32-t:e.D(i+n);return new ft(s,e.h)}fi.prototype.createWebChannel=fi.prototype.g;le.prototype.send=le.prototype.u;le.prototype.open=le.prototype.m;le.prototype.close=le.prototype.close;Hi.NO_ERROR=0;Hi.TIMEOUT=8;Hi.HTTP_ERROR=6;rd.COMPLETE="complete";sd.EventType=ys;ys.OPEN="a";ys.CLOSE="b";ys.ERROR="c";ys.MESSAGE="d";Nt.prototype.listen=Nt.prototype.O;It.prototype.listenOnce=It.prototype.P;It.prototype.getLastError=It.prototype.Sa;It.prototype.getLastErrorCode=It.prototype.Ia;It.prototype.getStatus=It.prototype.da;It.prototype.getResponseJson=It.prototype.Wa;It.prototype.getResponseText=It.prototype.ja;It.prototype.send=It.prototype.ha;It.prototype.setWithCredentials=It.prototype.Oa;Ee.prototype.digest=Ee.prototype.l;Ee.prototype.reset=Ee.prototype.reset;Ee.prototype.update=Ee.prototype.j;ft.prototype.add=ft.prototype.add;ft.prototype.multiply=ft.prototype.R;ft.prototype.modulo=ft.prototype.gb;ft.prototype.compare=ft.prototype.X;ft.prototype.toNumber=ft.prototype.ea;ft.prototype.toString=ft.prototype.toString;ft.prototype.getBits=ft.prototype.D;ft.fromNumber=Ve;ft.fromString=Ud;var lT=function(){return new fi},uT=function(){return qi()},Oo=Hi,hT=rd,fT=kn,Iu={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Fs=sd,dT=It,pT=Ee,Zn=ft;const Au="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yr="10.7.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn=new Df("@firebase/firestore");function Cr(){return Vn.logLevel}function V(e,...t){if(Vn.logLevel<=rt.DEBUG){const n=t.map(bc);Vn.debug(`Firestore (${yr}): ${e}`,...n)}}function Oe(e,...t){if(Vn.logLevel<=rt.ERROR){const n=t.map(bc);Vn.error(`Firestore (${yr}): ${e}`,...n)}}function ar(e,...t){if(Vn.logLevel<=rt.WARN){const n=t.map(bc);Vn.warn(`Firestore (${yr}): ${e}`,...n)}}function bc(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(e="Unexpected state"){const t=`FIRESTORE (${yr}) INTERNAL ASSERTION FAILED: `+e;throw Oe(t),new Error(t)}function St(e,t){e||Y()}function ot(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends gr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class gT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class mT{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _T{constructor(t){this.t=t,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new je;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new je,t.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;t.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new je)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St(typeof r.accessToken=="string"),new jd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return St(t===null||typeof t=="string"),new Ht(t)}}class yT{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class vT{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new yT(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ET{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TT{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=i=>{i.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>r(i))};const s=i=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(St(typeof n.token=="string"),this.R=n.token,new ET(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const s=wT(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=t.charAt(s[i]%t.length))}return r}}function ut(e,t){return e<t?-1:e>t?1:0}function cr(e,t,n){return e.length===t.length&&e.every((r,s)=>n(r,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new L(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new L(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new L(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new re(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ut(this.nanoseconds,t.nanoseconds):ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(t){this.timestamp=t}static fromTimestamp(t){return new G(t)}static min(){return new G(new re(0,0))}static max(){return new G(new re(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(t,n,r){n===void 0?n=0:n>t.length&&Y(),r===void 0?r=t.length-n:r>t.length-n&&Y(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return cs.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof cs?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const i=t.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Tt extends cs{construct(t,n,r){return new Tt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new L(C.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Tt(n)}static emptyPath(){return new Tt([])}}const IT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends cs{construct(t,n,r){return new Xt(t,n,r)}static isValidIdentifier(t){return IT.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xt(["__name__"])}static fromServerFormat(t){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new L(C.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<t.length;){const a=t[s];if(a==="\\"){if(s+1===t.length)throw new L(C.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new L(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new L(C.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.path=t}static fromPath(t){return new $(Tt.fromString(t))}static fromName(t){return new $(Tt.fromString(t).popFirst(5))}static empty(){return new $(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Tt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Tt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new $(new Tt(t.slice()))}}function AT(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=G.fromTimestamp(r===1e9?new re(n+1,0):new re(n,r));return new cn(s,$.empty(),t)}function RT(e){return new cn(e.readTime,e.key,-1)}class cn{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new cn(G.min(),$.empty(),-1)}static max(){return new cn(G.max(),$.empty(),-1)}}function CT(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=$.comparator(e.documentKey,t.documentKey),n!==0?n:ut(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(e){if(e.code!==C.FAILED_PRECONDITION||e.message!==ST)throw e;V("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new E((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof E?n:E.resolve(n)}catch(n){return E.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):E.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):E.reject(n)}static resolve(t){return new E((n,r)=>{n(t)})}static reject(t){return new E((n,r)=>{r(t)})}static waitFor(t){return new E((n,r)=>{let s=0,i=0,o=!1;t.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(t){let n=E.resolve(!1);for(const r of t)n=n.next(s=>s?E.resolve(s):r());return n}static forEach(t,n){const r=[];return t.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(t,n){return new E((r,s)=>{const i=t.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const l=c;n(t[l]).next(u=>{o[l]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(t,n){return new E((r,s)=>{const i=()=>{t()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.V=new je,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ur(t,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=xc(r.target.error);this.V.reject(new Ur(t,s))}}static open(t,n,r,s){try{return new Dc(n,t.transaction(s,r))}catch(i){throw new Ur(n,i)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(V("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new VT(n)}}class wn{constructor(t,n,r){this.name=t,this.version=n,this.p=r,wn.S(oi())===12.2&&Oe("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return V("SimpleDb","Removing database:",t),yn(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!Pf())return!1;if(wn.C())return!0;const t=oi(),n=wn.S(t),r=0<n&&n<10,s=wn.v(t),i=0<s&&s<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||i)}static C(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.F)==="YES"}static M(t,n){return t.store(n)}static S(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(t){const n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(t){return this.db||(V("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new Ur(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new L(C.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new L(C.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Ur(t,o))},s.onupgradeneeded=i=>{V("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.N(o,s.transaction,i.oldVersion,this.version).next(()=>{V("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(t){this.B=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(t);const a=Dc.open(this.db,t,i?"readonly":"readwrite",r),c=s(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),E.reject(l))).toPromise();return c.catch(()=>{}),await a.m,c}catch(a){const c=a,l=c.name!=="FirebaseError"&&o<3;if(V("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}class bT{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return yn(this.k.delete())}}class Ur extends L{constructor(t,n){super(C.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Is(e){return e.name==="IndexedDbTransactionError"}class VT{constructor(t){this.store=t}put(t,n){let r;return n!==void 0?(V("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(V("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),yn(r)}add(t){return V("SimpleDb","ADD",this.store.name,t,t),yn(this.store.add(t))}get(t){return yn(this.store.get(t)).next(n=>(n===void 0&&(n=null),V("SimpleDb","GET",this.store.name,t,n),n))}delete(t){return V("SimpleDb","DELETE",this.store.name,t),yn(this.store.delete(t))}count(){return V("SimpleDb","COUNT",this.store.name),yn(this.store.count())}W(t,n){const r=this.options(t,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new E((o,a)=>{i.onerror=c=>{a(c.target.error)},i.onsuccess=c=>{o(c.target.result)}})}{const i=this.cursor(r),o=[];return this.G(i,(a,c)=>{o.push(c)}).next(()=>o)}}j(t,n){const r=this.store.getAll(t,n===null?void 0:n);return new E((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}H(t,n){V("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,o,a)=>a.delete())}Y(t,n){let r;n?r=t:(r={},n=t);const s=this.cursor(r);return this.G(s,n)}Z(t){const n=this.cursor({});return new E((r,s)=>{n.onerror=i=>{const o=xc(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?t(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(t,n){const r=[];return new E((s,i)=>{t.onerror=o=>{i(o.target.error)},t.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const c=new bT(a),l=n(a.primaryKey,a.value,c);if(l instanceof E){const u=l.catch(h=>(c.done(),E.reject(h)));r.push(u)}c.isDone?s():c.$===null?a.continue():a.continue(c.$)}}).next(()=>E.waitFor(r))}options(t,n){let r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const r=this.store.index(t.index);return t.J?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function yn(e){return new E((t,n)=>{e.onsuccess=r=>{const s=r.target.result;t(s)},e.onerror=r=>{const s=xc(r.target.error);n(s)}})}let Ru=!1;function xc(e){const t=wn.S(oi());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){const r=new L("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ru||(Ru=!0,setTimeout(()=>{throw r},0)),r}}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}Nc._e=-1;function Zi(e){return e==null}function wa(e){return e===0&&1/e==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function to(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function DT(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(t,n){this.comparator=t,this.root=n||kt.EMPTY}insert(t,n){return new At(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(t){return new At(this.comparator,this.root.remove(t,this.comparator).copy(null,null,kt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Bs(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Bs(this.root,t,this.comparator,!1)}getReverseIterator(){return new Bs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Bs(this.root,t,this.comparator,!0)}}class Bs{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class kt{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r??kt.RED,this.left=s??kt.EMPTY,this.right=i??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,i){return new kt(t??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return kt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();const t=this.left.check();if(t!==this.right.check())throw Y();return t+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(t,n,r,s,i){return this}insert(t,n,r){return new kt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(t){this.comparator=t,this.data=new At(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Su(this.data.getIterator())}getIteratorFrom(t){return new Su(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Bt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Bt(this.comparator);return n.data=t,n}}class Su{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.fields=t,t.sort(Xt.comparator)}static empty(){return new Je([])}unionWith(t){let n=new Bt(Xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Je(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return cr(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new qd("Invalid base64 string: "+i):i}}(t);return new Qt(n)}static fromUint8Array(t){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(t);return new Qt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const xT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ln(e){if(St(!!e),typeof e=="string"){let t=0;const n=xT.exec(e);if(St(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ct(e.seconds),nanos:Ct(e.nanos)}}function Ct(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Dn(e){return typeof e=="string"?Qt.fromBase64String(e):Qt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function kc(e){const t=e.mapValue.fields.__previous_value__;return Oc(t)?kc(t):t}function ls(e){const t=ln(e.mapValue.fields.__local_write_time__.timestampValue);return new re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(t,n,r,s,i,o,a,c,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class us{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new us("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof us&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xn(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Oc(e)?4:OT(e)?9007199254740991:10:Y()}function ke(e,t){if(e===t)return!0;const n=xn(e);if(n!==xn(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ls(e).isEqual(ls(t));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ln(s.timestampValue),a=ln(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,i){return Dn(s.bytesValue).isEqual(Dn(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,i){return Ct(s.geoPointValue.latitude)===Ct(i.geoPointValue.latitude)&&Ct(s.geoPointValue.longitude)===Ct(i.geoPointValue.longitude)}(e,t);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ct(s.integerValue)===Ct(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ct(s.doubleValue),a=Ct(i.doubleValue);return o===a?wa(o)===wa(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return cr(e.arrayValue.values||[],t.arrayValue.values||[],ke);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Cu(o)!==Cu(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!ke(o[c],a[c])))return!1;return!0}(e,t);default:return Y()}}function hs(e,t){return(e.values||[]).find(n=>ke(n,t))!==void 0}function lr(e,t){if(e===t)return 0;const n=xn(e),r=xn(t);if(n!==r)return ut(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ut(e.booleanValue,t.booleanValue);case 2:return function(i,o){const a=Ct(i.integerValue||i.doubleValue),c=Ct(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(e,t);case 3:return Pu(e.timestampValue,t.timestampValue);case 4:return Pu(ls(e),ls(t));case 5:return ut(e.stringValue,t.stringValue);case 6:return function(i,o){const a=Dn(i),c=Dn(o);return a.compareTo(c)}(e.bytesValue,t.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=ut(a[l],c[l]);if(u!==0)return u}return ut(a.length,c.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,o){const a=ut(Ct(i.latitude),Ct(o.latitude));return a!==0?a:ut(Ct(i.longitude),Ct(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,o){const a=i.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){const u=lr(a[l],c[l]);if(u)return u}return ut(a.length,c.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,o){if(i===Us.mapValue&&o===Us.mapValue)return 0;if(i===Us.mapValue)return 1;if(o===Us.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let h=0;h<c.length&&h<u.length;++h){const d=ut(c[h],u[h]);if(d!==0)return d;const g=lr(a[c[h]],l[u[h]]);if(g!==0)return g}return ut(c.length,u.length)}(e.mapValue,t.mapValue);default:throw Y()}}function Pu(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ut(e,t);const n=ln(e),r=ln(t),s=ut(n.seconds,r.seconds);return s!==0?s:ut(n.nanos,r.nanos)}function ur(e){return Ia(e)}function Ia(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=ln(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Dn(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return $.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Ia(i);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Ia(n.fields[o])}`;return s+"}"}(e.mapValue):Y()}function Aa(e){return!!e&&"integerValue"in e}function Mc(e){return!!e&&"arrayValue"in e}function bu(e){return!!e&&"nullValue"in e}function Vu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ko(e){return!!e&&"mapValue"in e}function jr(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return to(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=jr(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=jr(e.arrayValue.values[n]);return t}return Object.assign({},e)}function OT(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(t){this.value=t}static empty(){return new Pe({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!ko(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=jr(n)}setAll(t){let n=Xt.emptyPath(),r={},s=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=jr(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(t){const n=this.field(t.popLast());ko(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ke(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];ko(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){to(n,(s,i)=>t[s]=i);for(const s of r)delete t[s]}clone(){return new Pe(jr(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(t,n,r,s,i,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(t){return new zt(t,0,G.min(),G.min(),G.min(),Pe.empty(),0)}static newFoundDocument(t,n,r,s){return new zt(t,1,n,G.min(),r,s,0)}static newNoDocument(t,n){return new zt(t,2,n,G.min(),G.min(),Pe.empty(),0)}static newUnknownDocument(t,n){return new zt(t,3,n,G.min(),G.min(),Pe.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(G.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Pe.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Pe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=G.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof zt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t,n){this.position=t,this.inclusive=n}}function Du(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],o=e.position[s];if(i.field.isKeyField()?r=$.comparator($.fromName(o.referenceValue),n.key):r=lr(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function xu(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ke(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t,n="asc"){this.field=t,this.dir=n}}function kT(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{}class Pt extends Hd{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new LT(t,n,r):n==="array-contains"?new UT(t,r):n==="in"?new jT(t,r):n==="not-in"?new $T(t,r):n==="array-contains-any"?new qT(t,r):new Pt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new FT(t,r):new BT(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(lr(n,this.value)):n!==null&&xn(this.value)===xn(n)&&this.matchesComparison(lr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Me extends Hd{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new Me(t,n)}matches(t){return zd(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function zd(e){return e.op==="and"}function Kd(e){return MT(e)&&zd(e)}function MT(e){for(const t of e.filters)if(t instanceof Me)return!1;return!0}function Ra(e){if(e instanceof Pt)return e.field.canonicalString()+e.op.toString()+ur(e.value);if(Kd(e))return e.filters.map(t=>Ra(t)).join(",");{const t=e.filters.map(n=>Ra(n)).join(",");return`${e.op}(${t})`}}function Gd(e,t){return e instanceof Pt?function(r,s){return s instanceof Pt&&r.op===s.op&&r.field.isEqual(s.field)&&ke(r.value,s.value)}(e,t):e instanceof Me?function(r,s){return s instanceof Me&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Gd(o,s.filters[a]),!0):!1}(e,t):void Y()}function Wd(e){return e instanceof Pt?function(n){return`${n.field.canonicalString()} ${n.op} ${ur(n.value)}`}(e):e instanceof Me?function(n){return n.op.toString()+" {"+n.getFilters().map(Wd).join(" ,")+"}"}(e):"Filter"}class LT extends Pt{constructor(t,n,r){super(t,n,r),this.key=$.fromName(r.referenceValue)}matches(t){const n=$.comparator(t.key,this.key);return this.matchesComparison(n)}}class FT extends Pt{constructor(t,n){super(t,"in",n),this.keys=Qd("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class BT extends Pt{constructor(t,n){super(t,"not-in",n),this.keys=Qd("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Qd(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>$.fromName(r.referenceValue))}class UT extends Pt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Mc(n)&&hs(n.arrayValue,this.value)}}class jT extends Pt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&hs(this.value.arrayValue,n)}}class $T extends Pt{constructor(t,n){super(t,"not-in",n)}matches(t){if(hs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!hs(this.value.arrayValue,n)}}class qT extends Pt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Mc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(t,n=null,r=[],s=[],i=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function Nu(e,t=null,n=[],r=[],s=null,i=null,o=null){return new HT(e,t,n,r,s,i,o)}function Lc(e){const t=ot(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Ra(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Zi(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>ur(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>ur(r)).join(",")),t.ce=n}return t.ce}function Fc(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!kT(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Gd(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!xu(e.startAt,t.startAt)&&xu(e.endAt,t.endAt)}function Ca(e){return $.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function zT(e,t,n,r,s,i,o,a){return new eo(e,t,n,r,s,i,o,a)}function Bc(e){return new eo(e)}function Ou(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function KT(e){return e.collectionGroup!==null}function $r(e){const t=ot(e);if(t.le===null){t.le=[];const n=new Set;for(const i of t.explicitOrderBy)t.le.push(i),n.add(i.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Bt(Xt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||t.le.push(new mi(i,r))}),n.has(Xt.keyField().canonicalString())||t.le.push(new mi(Xt.keyField(),r))}return t.le}function De(e){const t=ot(e);return t.he||(t.he=GT(t,$r(e))),t.he}function GT(e,t){if(e.limitType==="F")return Nu(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new mi(s.field,i)});const n=e.endAt?new gi(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new gi(e.startAt.position,e.startAt.inclusive):null;return Nu(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Sa(e,t,n){return new eo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function no(e,t){return Fc(De(e),De(t))&&e.limitType===t.limitType}function Yd(e){return`${Lc(De(e))}|lt:${e.limitType}`}function qn(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Wd(s)).join(", ")}]`),Zi(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ur(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ur(s)).join(",")),`Target(${r})`}(De(e))}; limitType=${e.limitType})`}function ro(e,t){return t.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):$.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(e,t)&&function(r,s){for(const i of $r(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(e,t)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(e,t)&&function(r,s){return!(r.startAt&&!function(o,a,c){const l=Du(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,$r(r),s)||r.endAt&&!function(o,a,c){const l=Du(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,$r(r),s))}(e,t)}function WT(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Xd(e){return(t,n)=>{let r=!1;for(const s of $r(e)){const i=QT(s,t,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function QT(e,t,n){const r=e.field.isKeyField()?$.comparator(t.key,n.key):function(i,o,a){const c=o.data.field(i),l=a.data.field(i);return c!==null&&l!==null?lr(c,l):Y()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){to(this.inner,(n,r)=>{for(const[s,i]of r)t(s,i)})}isEmpty(){return DT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=new At($.comparator);function un(){return YT}const Jd=new At($.comparator);function Vr(...e){let t=Jd;for(const n of e)t=t.insert(n.key,n);return t}function XT(e){let t=Jd;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function In(){return qr()}function Zd(){return qr()}function qr(){return new vr(e=>e.toString(),(e,t)=>e.isEqual(t))}const JT=new Bt($.comparator);function st(...e){let t=JT;for(const n of e)t=t.add(n);return t}const ZT=new Bt(ut);function tw(){return ZT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wa(t)?"-0":t}}function nw(e){return{integerValue:""+e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this._=void 0}}function rw(e,t,n){return e instanceof Pa?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Oc(i)&&(i=kc(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,t):e instanceof _i?tp(e,t):e instanceof yi?ep(e,t):function(s,i){const o=iw(s,i),a=ku(o)+ku(s.Ie);return Aa(o)&&Aa(s.Ie)?nw(a):ew(s.serializer,a)}(e,t)}function sw(e,t,n){return e instanceof _i?tp(e,t):e instanceof yi?ep(e,t):n}function iw(e,t){return e instanceof ba?function(r){return Aa(r)||function(i){return!!i&&"doubleValue"in i}(r)}(t)?t:{integerValue:0}:null}class Pa extends so{}class _i extends so{constructor(t){super(),this.elements=t}}function tp(e,t){const n=np(t);for(const r of e.elements)n.some(s=>ke(s,r))||n.push(r);return{arrayValue:{values:n}}}class yi extends so{constructor(t){super(),this.elements=t}}function ep(e,t){let n=np(t);for(const r of e.elements)n=n.filter(s=>!ke(s,r));return{arrayValue:{values:n}}}class ba extends so{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function ku(e){return Ct(e.integerValue||e.doubleValue)}function np(e){return Mc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function ow(e,t){return e.field.isEqual(t.field)&&function(r,s){return r instanceof _i&&s instanceof _i||r instanceof yi&&s instanceof yi?cr(r.elements,s.elements,ke):r instanceof ba&&s instanceof ba?ke(r.Ie,s.Ie):r instanceof Pa&&s instanceof Pa}(e.transform,t.transform)}class Pn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Pn}static exists(t){return new Pn(void 0,t)}static updateTime(t){return new Pn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ws(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Uc{}function rp(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new cw(e.key,Pn.none()):new jc(e.key,e.data,Pn.none());{const n=e.data,r=Pe.empty();let s=new Bt(Xt.comparator);for(let i of t.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new io(e.key,r,new Je(s.toArray()),Pn.none())}}function aw(e,t,n){e instanceof jc?function(s,i,o){const a=s.value.clone(),c=Lu(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof io?function(s,i,o){if(!Ws(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Lu(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(sp(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(e,t,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Hr(e,t,n,r){return e instanceof jc?function(i,o,a,c){if(!Ws(i.precondition,o))return a;const l=i.value.clone(),u=Fu(i.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof io?function(i,o,a,c){if(!Ws(i.precondition,o))return a;const l=Fu(i.fieldTransforms,c,o),u=o.data;return u.setAll(sp(i)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(i,o,a){return Ws(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function Mu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&cr(r,s,(i,o)=>ow(i,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class jc extends Uc{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class io extends Uc{constructor(t,n,r,s,i=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function sp(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Lu(e,t,n){const r=new Map;St(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],o=i.transform,a=t.data.field(i.field);r.set(i.field,sw(o,a,n[s]))}return r}function Fu(e,t,n){const r=new Map;for(const s of e){const i=s.transform,o=n.data.field(s.field);r.set(s.field,rw(i,o,t))}return r}class cw extends Uc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&aw(i,t,r[s])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Hr(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Hr(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Zd();return this.mutations.forEach(s=>{const i=t.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=rp(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(G.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),st())}isEqual(t){return this.batchId===t.batchId&&cr(this.mutations,t.mutations,(n,r)=>Mu(n,r))&&cr(this.baseMutations,t.baseMutations,(n,r)=>Mu(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,et;function ip(e){if(e===void 0)return Oe("GRPC error has no .code"),C.UNKNOWN;switch(e){case Rt.OK:return C.OK;case Rt.CANCELLED:return C.CANCELLED;case Rt.UNKNOWN:return C.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return C.INTERNAL;case Rt.UNAVAILABLE:return C.UNAVAILABLE;case Rt.UNAUTHENTICATED:return C.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case Rt.NOT_FOUND:return C.NOT_FOUND;case Rt.ALREADY_EXISTS:return C.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return C.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case Rt.ABORTED:return C.ABORTED;case Rt.OUT_OF_RANGE:return C.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return C.UNIMPLEMENTED;case Rt.DATA_LOSS:return C.DATA_LOSS;default:return Y()}}(et=Rt||(Rt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=new Zn([4294967295,4294967295],0);function Bu(e){const t=fw().encode(e),n=new pT;return n.update(t),new Uint8Array(n.digest())}function Uu(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Zn([n,r],0),new Zn([s,i],0)]}class $c{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Dr(`Invalid padding: ${n}`);if(r<0)throw new Dr(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Dr(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Dr(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=Zn.fromNumber(this.Te)}de(t,n,r){let s=t.add(n.multiply(Zn.fromNumber(r)));return s.compare(dw)===1&&(s=new Zn([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=Bu(t),[r,s]=Uu(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const s=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),o=new $c(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=Bu(t),[r,s]=Uu(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Dr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t,n,r,s,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const s=new Map;return s.set(t,As.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new oo(G.min(),s,new At(ut),un(),st())}}class As{constructor(t,n,r,s,i){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new As(r,n,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t,n,r,s){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=s}}class op{constructor(t,n){this.targetId=t,this.fe=n}}class ap{constructor(t,n,r=Qt.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class ju{constructor(){this.ge=0,this.pe=qu(),this.ye=Qt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=st(),n=st(),r=st();return this.pe.forEach((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Y()}}),new As(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=qu()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,St(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class pw{constructor(t){this.Le=t,this.ke=new Map,this.qe=un(),this.Qe=$u(),this.Ke=new At(ut)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:Y()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(t){const n=t.targetId,r=t.fe.count,s=this.Ye(n);if(s){const i=s.target;if(Ca(i))if(r===0){const o=new $(i.path);this.We(n,o,zt.newNoDocument(o,G.min()))}else St(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),c=a?this.et(a,t,o):1;if(c!==0){this.He(n);const l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Dn(r).toUint8Array()}catch(c){if(c instanceof qd)return ar("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new $c(o,s,i)}catch(c){return ar(c instanceof Dr?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;t.mightContain(a)||(this.We(n,i,null),s++)}),s}it(t){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&Ca(a.target)){const c=new $(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,zt.newNoDocument(c,t))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=st();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(t));const s=new oo(t,n,this.Ke,this.qe,r);return this.qe=un(),this.Qe=$u(),this.Ke=new At(ut),s}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const s=this.ze(t);this.st(t,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new ju,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new Bt(ut),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||V("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new ju),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function $u(){return new At($.comparator)}function qu(){return new At($.comparator)}const gw={asc:"ASCENDING",desc:"DESCENDING"},mw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_w={and:"AND",or:"OR"};class yw{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Va(e,t){return e.useProto3Json||Zi(t)?t:{value:t}}function vw(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ew(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function tr(e){return St(!!e),G.fromTimestamp(function(n){const r=ln(n);return new re(r.seconds,r.nanos)}(e))}function Tw(e,t){return Da(e,t).canonicalString()}function Da(e,t){const n=function(s){return new Tt(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function cp(e){const t=Tt.fromString(e);return St(dp(t)),t}function Mo(e,t){const n=cp(t);if(n.get(1)!==e.databaseId.projectId)throw new L(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new L(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new $(up(n))}function lp(e,t){return Tw(e.databaseId,t)}function ww(e){const t=cp(e);return t.length===4?Tt.emptyPath():up(t)}function Hu(e){return new Tt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function up(e){return St(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Iw(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Y()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(l,u){return l.useProto3Json?(St(u===void 0||typeof u=="string"),Qt.fromBase64String(u||"")):(St(u===void 0||u instanceof Uint8Array),Qt.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const u=l.code===void 0?C.UNKNOWN:ip(l.code);return new L(u,l.message||"")}(o);n=new ap(r,s,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=Mo(e,r.document.name),i=tr(r.document.updateTime),o=r.document.createTime?tr(r.document.createTime):G.min(),a=new Pe({mapValue:{fields:r.document.fields}}),c=zt.newFoundDocument(s,i,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Qs(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=Mo(e,r.document),i=r.readTime?tr(r.readTime):G.min(),o=zt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Qs([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=Mo(e,r.document),i=r.removedTargetIds||[];n=new Qs([],i,s,null)}else{if(!("filter"in t))return Y();{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new hw(s,i),a=r.targetId;n=new op(a,o)}}return n}function Aw(e,t){return{documents:[lp(e,t.path)]}}function Rw(e,t){const n={structuredQuery:{}},r=t.path;let s;t.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lp(e,s);const i=function(l){if(l.length!==0)return fp(Me.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:Hn(d.field),direction:Pw(d.dir)}}(u))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Va(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),{ut:n,parent:s}}function Cw(e){let t=ww(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){St(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:t=t.child(u.collectionId)}let i=[];n.where&&(i=function(h){const d=hp(h);return d instanceof Me&&Kd(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(w){return new mi(zn(w.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,Zi(d)?null:d}(n.limit));let c=null;n.startAt&&(c=function(h){const d=!!h.before,g=h.values||[];return new gi(g,d)}(n.startAt));let l=null;return n.endAt&&(l=function(h){const d=!h.before,g=h.values||[];return new gi(g,d)}(n.endAt)),zT(t,s,o,i,a,"F",c,l)}function Sw(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function hp(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zn(n.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=zn(n.unaryFilter.field);return Pt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=zn(n.unaryFilter.field);return Pt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=zn(n.unaryFilter.field);return Pt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(e):e.fieldFilter!==void 0?function(n){return Pt.create(zn(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Me.create(n.compositeFilter.filters.map(r=>hp(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Y()}}(n.compositeFilter.op))}(e):Y()}function Pw(e){return gw[e]}function bw(e){return mw[e]}function Vw(e){return _w[e]}function Hn(e){return{fieldPath:e.canonicalString()}}function zn(e){return Xt.fromServerFormat(e.fieldPath)}function fp(e){return e instanceof Pt?function(n){if(n.op==="=="){if(Vu(n.value))return{unaryFilter:{field:Hn(n.field),op:"IS_NAN"}};if(bu(n.value))return{unaryFilter:{field:Hn(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Vu(n.value))return{unaryFilter:{field:Hn(n.field),op:"IS_NOT_NAN"}};if(bu(n.value))return{unaryFilter:{field:Hn(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hn(n.field),op:bw(n.op),value:n.value}}}(e):e instanceof Me?function(n){const r=n.getFilters().map(s=>fp(s));return r.length===1?r[0]:{compositeFilter:{op:Vw(n.op),filters:r}}}(e):Y()}function dp(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t,n,r,s,i=G.min(),o=G.min(),a=Qt.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(t){return new Ze(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ze(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ze(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ze(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t){this.ct=t}}function xw(e){const t=Cw({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Sa(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this._n=new Ow}addToCollectionParentIndex(t,n){return this._n.add(n),E.resolve()}getCollectionParents(t,n){return E.resolve(this._n.getEntries(n))}addFieldIndex(t,n){return E.resolve()}deleteFieldIndex(t,n){return E.resolve()}deleteAllFieldIndexes(t){return E.resolve()}createTargetIndexes(t,n){return E.resolve()}getDocumentsMatchingTarget(t,n){return E.resolve(null)}getIndexType(t,n){return E.resolve(0)}getFieldIndexes(t,n){return E.resolve([])}getNextCollectionGroupToUpdate(t){return E.resolve(null)}getMinOffset(t,n){return E.resolve(cn.min())}getMinOffsetFromCollectionGroup(t,n){return E.resolve(cn.min())}updateCollectionGroup(t,n,r){return E.resolve()}updateIndexEntries(t,n){return E.resolve()}}class Ow{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new Bt(Tt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new Bt(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new hr(0)}static Bn(){return new hr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this.changes=new vr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,zt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?E.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t,n,r,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(r!==null&&Hr(r.mutation,s,Je.empty(),re.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,st()).next(()=>r))}getLocalViewOfDocuments(t,n,r=st()){const s=In();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,r).next(i=>{let o=Vr();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=In();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,st()))}populateOverlays(t,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(t,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,s){let i=un();const o=qr(),a=function(){return qr()}();return n.forEach((c,l)=>{const u=r.get(l.key);s.has(l.key)&&(u===void 0||u.mutation instanceof io)?i=i.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),Hr(u.mutation,l,u.mutation.getFieldMask(),re.now())):o.set(l.key,Je.empty())}),this.recalculateAndSaveOverlays(t,i).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var h;return a.set(l,new Mw(u,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=qr();let s=new At((o,a)=>o-a),i=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(l===null)return;let u=r.get(c)||Je.empty();u=a.applyToLocalView(l,u),r.set(c,u);const h=(s.get(a.batchId)||st()).add(c);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,h=Zd();u.forEach(d=>{if(!i.has(d)){const g=rp(n.get(d),r.get(d));g!==null&&h.set(d,g),i=i.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,h))}return E.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,s){return function(o){return $.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):KT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,s):this.getDocumentsMatchingCollectionQuery(t,n,r,s)}getNextDocuments(t,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,s-i.size):E.resolve(In());let a=-1,c=i;return o.next(l=>E.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?E.resolve():this.remoteDocumentCache.getEntry(t,u).next(d=>{c=c.insert(u,d)}))).next(()=>this.populateOverlays(t,l,i)).next(()=>this.computeViews(t,c,l,st())).next(u=>({batchId:a,changes:XT(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new $(n)).next(r=>{let s=Vr();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,r,s){const i=n.collectionGroup;let o=Vr();return this.indexManager.getCollectionParents(t,i).next(a=>E.forEach(a,c=>{const l=function(h,d){return new eo(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(t,l,r,s).next(u=>{u.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i,s))).next(o=>{i.forEach((c,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,zt.newInvalidDocument(u)))});let a=Vr();return o.forEach((c,l)=>{const u=i.get(c);u!==void 0&&Hr(u.mutation,l,Je.empty(),re.now()),ro(n,l)&&(a=a.insert(c,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,n){return E.resolve(this.cr.get(n))}saveBundleMetadata(t,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:tr(s.createTime)}}(n)),E.resolve()}getNamedQuery(t,n){return E.resolve(this.lr.get(n))}saveNamedQuery(t,n){return this.lr.set(n.name,function(s){return{name:s.name,query:xw(s.bundledQuery),readTime:tr(s.readTime)}}(n)),E.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.overlays=new At($.comparator),this.hr=new Map}getOverlay(t,n){return E.resolve(this.overlays.get(n))}getOverlays(t,n){const r=In();return E.forEach(n,s=>this.getOverlay(t,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((s,i)=>{this.ht(t,n,i)}),E.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),E.resolve()}getOverlaysForCollection(t,n,r){const s=In(),i=n.length+1,o=new $(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return E.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let i=new At((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=i.get(l.largestBatchId);u===null&&(u=In(),i=i.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=In(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=s)););return E.resolve(a)}ht(t,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new uw(n,r));let i=this.hr.get(n);i===void 0&&(i=st(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this.Pr=new Bt(xt.Ir),this.Tr=new Bt(xt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,n){const r=new xt(t,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Ar(new xt(t,n))}Rr(t,n){t.forEach(r=>this.removeReference(r,n))}Vr(t){const n=new $(new Tt([])),r=new xt(n,t),s=new xt(n,t+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const n=new $(new Tt([])),r=new xt(n,t),s=new xt(n,t+1);let i=st();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(t){const n=new xt(t,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class xt{constructor(t,n){this.key=t,this.pr=n}static Ir(t,n){return $.comparator(t.key,n.key)||ut(t.pr,n.pr)}static Er(t,n){return ut(t.pr,n.pr)||$.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Bt(xt.Ir)}checkEmpty(t){return E.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new lw(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.wr=this.wr.add(new xt(a.key,i)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return E.resolve(o)}lookupMutationBatch(t,n){return E.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.br(r),i=s<0?0:s;return E.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return E.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return E.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new xt(n,0),s=new xt(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const a=this.Sr(o.pr);i.push(a)}),E.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Bt(ut);return n.forEach(s=>{const i=new xt(s,0),o=new xt(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],a=>{r=r.add(a.pr)})}),E.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let i=r;$.isDocumentKey(i)||(i=i.child(""));const o=new xt(new $(i),0);let a=new Bt(ut);return this.wr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===s&&(a=a.add(c.pr)),!0)},o),E.resolve(this.Dr(a))}Dr(t){const n=[];return t.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){St(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return E.forEach(n.mutations,s=>{const i=new xt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.wr=r})}Mn(t){}containsKey(t,n){const r=new xt(n,0),s=this.wr.firstAfterOrEqual(r);return E.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,E.resolve()}Cr(t,n){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const n=this.br(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t){this.vr=t,this.docs=function(){return new At($.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return E.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(t,n){let r=un();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():zt.newInvalidDocument(s))}),E.resolve(r)}getDocumentsMatchingQuery(t,n,r,s){let i=un();const o=n.path,a=new $(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||CT(RT(u),r)<=0||(s.has(u.key)||ro(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return E.resolve(i)}getAllFromCollectionGroup(t,n,r,s){Y()}Fr(t,n){return E.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new $w(this)}getSize(t){return E.resolve(this.size)}}class $w extends kw{constructor(t){super(),this.ar=t}applyChanges(t){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(t,s)):this.ar.removeEntry(r)}),E.waitFor(n)}getFromCache(t,n){return this.ar.getEntry(t,n)}getAllFromCache(t,n){return this.ar.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t){this.persistence=t,this.Mr=new vr(n=>Lc(n),Fc),this.lastRemoteSnapshotVersion=G.min(),this.highestTargetId=0,this.Or=0,this.Nr=new qc,this.targetCount=0,this.Br=hr.Nn()}forEachTarget(t,n){return this.Mr.forEach((r,s)=>n(s)),E.resolve()}getLastRemoteSnapshotVersion(t){return E.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return E.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Br.next(),E.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),E.resolve()}qn(t){this.Mr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Br=new hr(n),this.highestTargetId=n),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,n){return this.qn(n),this.targetCount+=1,E.resolve()}updateTargetData(t,n){return this.qn(n),E.resolve()}removeTargetData(t,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,E.resolve()}removeTargets(t,n,r){let s=0;const i=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(t,a.targetId)),s++)}),E.waitFor(i).next(()=>s)}getTargetCount(t){return E.resolve(this.targetCount)}getTargetData(t,n){const r=this.Mr.get(n)||null;return E.resolve(r)}addMatchingKeys(t,n,r){return this.Nr.dr(n,r),E.resolve()}removeMatchingKeys(t,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(t,o))}),E.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.Nr.Vr(n),E.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Nr.gr(n);return E.resolve(r)}containsKey(t,n){return E.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t,n){this.Lr={},this.overlays={},this.kr=new Nc(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new qw(this),this.indexManager=new Nw,this.remoteDocumentCache=function(s){return new jw(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Dw(n),this.$r=new Fw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Bw,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Lr[t.toKey()];return r||(r=new Uw(n,this.referenceDelegate),this.Lr[t.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,n,r){V("MemoryPersistence","Starting transaction:",t);const s=new zw(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(t,n){return E.or(Object.values(this.Lr).map(r=>()=>r.containsKey(t,n)))}}class zw extends PT{constructor(t){super(),this.currentSequenceNumber=t}}class Hc{constructor(t){this.persistence=t,this.zr=new qc,this.jr=null}static Hr(t){return new Hc(t)}get Jr(){if(this.jr)return this.jr;throw Y()}addReference(t,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),E.resolve()}removeReference(t,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),E.resolve()}markPotentiallyOrphaned(t,n){return this.Jr.add(n.toString()),E.resolve()}removeTarget(t,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(t,n))}Ur(){this.jr=new Set}Wr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return E.forEach(this.Jr,r=>{const s=$.fromPath(r);return this.Yr(t,s).next(i=>{i||n.removeEntry(s,G.min())})}).next(()=>(this.jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Yr(t,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(t){return 0}Yr(t,n){return E.or([()=>E.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(t,n){let r=st(),s=st();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new zc(t,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Ly()?8:wn.v(oi())>0?6:4}()}initialize(t,n){this.zi=t,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(t,n,r,s){const i={result:null};return this.ji(t,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(t,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Kw;return this.Ji(t,n,o).next(a=>{if(i.result=a,this.Ui)return this.Yi(t,n,o,a.size)})}).next(()=>i.result)}Yi(t,n,r,s){return r.documentReadCount<this.Wi?(Cr()<=rt.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",qn(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),E.resolve()):(Cr()<=rt.DEBUG&&V("QueryEngine","Query:",qn(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(Cr()<=rt.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",qn(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,De(n))):E.resolve())}ji(t,n){if(Ou(n))return E.resolve(null);let r=De(n);return this.indexManager.getIndexType(t,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Sa(n,null,"F"),r=De(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(i=>{const o=st(...i);return this.zi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(c=>{const l=this.Zi(n,a);return this.Xi(n,l,o,c.readTime)?this.ji(t,Sa(n,null,"F")):this.es(t,l,n,c)}))})))}Hi(t,n,r,s){return Ou(n)||s.isEqual(G.min())?E.resolve(null):this.zi.getDocuments(t,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?E.resolve(null):(Cr()<=rt.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),qn(n)),this.es(t,o,n,AT(s,-1)).next(a=>a))})}Zi(t,n){let r=new Bt(Xd(t));return n.forEach((s,i)=>{ro(t,i)&&(r=r.add(i))}),r}Xi(t,n,r,s){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(t,n,r){return Cr()<=rt.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",qn(n)),this.zi.getDocumentsMatchingQuery(t,n,cn.min(),r)}es(t,n,r,s){return this.zi.getDocumentsMatchingQuery(t,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t,n,r,s){this.persistence=t,this.ts=n,this.serializer=s,this.ns=new At(ut),this.rs=new vr(i=>Lc(i),Fc),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Lw(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ns))}}function Qw(e,t,n,r){return new Ww(e,t,n,r)}async function pp(e,t){const n=ot(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(t),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=st();for(const l of s){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of i){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})}function gp(e){const t=ot(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Qr.getLastRemoteSnapshotVersion(n))}function Yw(e,t){const n=ot(e),r=t.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const a=[];t.targetChanges.forEach((u,h)=>{const d=s.get(h);if(!d)return;a.push(n.Qr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(i,u.addedDocuments,h)));let g=d.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(h)!==null?g=g.withResumeToken(Qt.EMPTY_BYTE_STRING,G.min()).withLastLimboFreeSnapshotVersion(G.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),s=s.insert(h,g),function(S,I,N){return S.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(d,g,u)&&a.push(n.Qr.updateTargetData(i,g))});let c=un(),l=st();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(Xw(i,o,t.documentUpdates).next(u=>{c=u.cs,l=u.ls})),!r.isEqual(G.min())){const u=n.Qr.getLastRemoteSnapshotVersion(i).next(h=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return E.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,l)).next(()=>c)}).then(i=>(n.ns=s,i))}function Xw(e,t,n){let r=st(),s=st();return n.forEach(i=>r=r.add(i)),t.getEntries(e,r).next(i=>{let o=un();return n.forEach((a,c)=>{const l=i.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(G.min())?(t.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(c),o=o.insert(a,c)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{cs:o,ls:s}})}function Jw(e,t){const n=ot(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,t).next(i=>i?(s=i,E.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new Ze(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(t,r.targetId)),r})}async function xa(e,t,n){const r=ot(e),s=r.ns.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Is(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ns=r.ns.remove(t),r.rs.delete(s.target)}function zu(e,t,n){const r=ot(e);let s=G.min(),i=st();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){const h=ot(c),d=h.rs.get(u);return d!==void 0?E.resolve(h.ns.get(d)):h.Qr.getTargetData(l,u)}(r,o,De(t)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,t,n?s:G.min(),n?i:st())).next(a=>(Zw(r,WT(t),a),{documents:a,hs:i})))}function Zw(e,t,n){let r=e.ss.get(t)||G.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),e.ss.set(t,r)}class Ku{constructor(){this.activeTargetIds=tw()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class t0{constructor(){this.no=new Ku,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,n,r){this.ro[t]=n}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new Ku,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let js=null;function Lo(){return js===null?js=function(){return 268435456+Math.round(2147483648*Math.random())}():js++,"0x"+js.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class s0 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,o){const a=Lo(),c=this.bo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${a}:`,c,s);const l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,i,o),this.Co(n,c,l,s).then(u=>(V("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw ar("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",s),u})}vo(n,r,s,i,o,a){return this.So(n,r,s,i,o)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yr}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}bo(n,r){const s=n0[n];return`${this.fo}/v1/${r}:${s}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,n,r,s){const i=Lo();return new Promise((o,a)=>{const c=new dT;c.setWithCredentials(!0),c.listenOnce(hT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Oo.NO_ERROR:const u=c.getResponseJson();V(qt,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(u)),o(u);break;case Oo.TIMEOUT:V(qt,`RPC '${t}' ${i} timed out`),a(new L(C.DEADLINE_EXCEEDED,"Request time out"));break;case Oo.HTTP_ERROR:const h=c.getStatus();if(V(qt,`RPC '${t}' ${i} failed with status:`,h,"response text:",c.getResponseText()),h>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);const g=d==null?void 0:d.error;if(g&&g.status&&g.message){const w=function(I){const N=I.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(N)>=0?N:C.UNKNOWN}(g.status);a(new L(w,g.message))}else a(new L(C.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new L(C.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{V(qt,`RPC '${t}' ${i} completed.`)}});const l=JSON.stringify(s);V(qt,`RPC '${t}' ${i} sending request:`,s),c.send(n,"POST",l,r,15)})}Fo(t,n,r){const s=Lo(),i=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=lT(),a=uT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=i.join("");V(qt,`Creating RPC '${t}' stream ${s}: ${u}`,c);const h=o.createWebChannel(u,c);let d=!1,g=!1;const w=new r0({lo:I=>{g?V(qt,`Not sending because RPC '${t}' stream ${s} is closed:`,I):(d||(V(qt,`Opening RPC '${t}' stream ${s} transport.`),h.open(),d=!0),V(qt,`RPC '${t}' stream ${s} sending:`,I),h.send(I))},ho:()=>h.close()}),S=(I,N,F)=>{I.listen(N,U=>{try{F(U)}catch(W){setTimeout(()=>{throw W},0)}})};return S(h,Fs.EventType.OPEN,()=>{g||V(qt,`RPC '${t}' stream ${s} transport opened.`)}),S(h,Fs.EventType.CLOSE,()=>{g||(g=!0,V(qt,`RPC '${t}' stream ${s} transport closed`),w.Vo())}),S(h,Fs.EventType.ERROR,I=>{g||(g=!0,ar(qt,`RPC '${t}' stream ${s} transport errored:`,I),w.Vo(new L(C.UNAVAILABLE,"The operation could not be completed")))}),S(h,Fs.EventType.MESSAGE,I=>{var N;if(!g){const F=I.data[0];St(!!F);const U=F,W=U.error||((N=U[0])===null||N===void 0?void 0:N.error);if(W){V(qt,`RPC '${t}' stream ${s} received error:`,W);const X=W.status;let q=function(tt){const yt=Rt[tt];if(yt!==void 0)return ip(yt)}(X),gt=W.message;q===void 0&&(q=C.INTERNAL,gt="Unknown error status: "+X+" with message "+W.message),g=!0,w.Vo(new L(q,gt)),h.close()}else V(qt,`RPC '${t}' stream ${s} received:`,F),w.mo(F)}}),S(a,fT.STAT_EVENT,I=>{I.stat===Iu.PROXY?V(qt,`RPC '${t}' stream ${s} detected buffering proxy`):I.stat===Iu.NOPROXY&&V(qt,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.Ro()},0),w}}function Fo(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(e){return new yw(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(t,n,r=1e3,s=1.5,i=6e4){this.oi=t,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),s=Math.max(0,n-r);s>0&&V("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Lo=Date.now(),t())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(t,n,r,s,i,o,a,c){this.oi=t,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new _p(t,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(t){this.n_(),this.stream.send(t)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(t,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,t!==4?this.jo.reset():n&&n.code===C.RESOURCE_EXHAUSTED?(Oe(n.toString()),Oe("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===C.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.To(n)}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{t(()=>{const s=new L(C.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(t,n){const r=this.s_(this.Wo);this.stream=this.a_(t,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(t){return V("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}s_(t){return n=>{this.oi.enqueueAndForget(()=>this.Wo===t?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o0 extends i0{constructor(t,n,r,s,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}a_(t,n){return this.connection.Fo("Listen",t,n)}onMessage(t){this.jo.reset();const n=Iw(this.serializer,t),r=function(i){if(!("targetChange"in i))return G.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?G.min():o.readTime?tr(o.readTime):G.min()}(t);return this.listener.u_(n,r)}c_(t){const n={};n.database=Hu(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=Ca(c)?{documents:Aw(i,c)}:{query:Rw(i,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Ew(i,o.resumeToken);const l=Va(i,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(G.min())>0){a.readTime=vw(i,o.snapshotVersion.toTimestamp());const l=Va(i,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,t);const r=Sw(this.serializer,t);r&&(n.labels=r),this.t_(n)}l_(t){const n={};n.database=Hu(this.serializer),n.removeTarget=t,this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0 extends class{}{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new L(C.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(t,Da(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new L(C.UNKNOWN,i.toString())})}vo(t,n,r,s,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(t,Da(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(C.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class c0{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(t){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.y_("Offline")))}set(t){this.b_(),this.m_=0,t==="Online"&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Oe(n),this.g_=!1):V("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(t,n,r,s,i){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(o=>{r.enqueueAndForget(async()=>{Cs(this)&&(V("RemoteStore","Restarting streams for network reachability change."),await async function(c){const l=ot(c);l.v_.add(4),await Rs(l),l.x_.set("Unknown"),l.v_.delete(4),await ao(l)}(this))})}),this.x_=new c0(r,s)}}async function ao(e){if(Cs(e))for(const t of e.F_)await t(!0)}async function Rs(e){for(const t of e.F_)await t(!1)}function yp(e,t){const n=ot(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),Wc(n)?Gc(n):Er(n).Jo()&&Kc(n,t))}function vp(e,t){const n=ot(e),r=Er(n);n.C_.delete(t),r.Jo()&&Ep(n,t),n.C_.size===0&&(r.Jo()?r.Xo():Cs(n)&&n.x_.set("Unknown"))}function Kc(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(G.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Er(e).c_(t)}function Ep(e,t){e.O_.Oe(t),Er(e).l_(t)}function Gc(e){e.O_=new pw({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Er(e).start(),e.x_.p_()}function Wc(e){return Cs(e)&&!Er(e).Ho()&&e.C_.size>0}function Cs(e){return ot(e).v_.size===0}function Tp(e){e.O_=void 0}async function u0(e){e.C_.forEach((t,n)=>{Kc(e,t)})}async function h0(e,t){Tp(e),Wc(e)?(e.x_.S_(t),Gc(e)):e.x_.set("Unknown")}async function f0(e,t,n){if(e.x_.set("Online"),t instanceof ap&&t.state===2&&t.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.C_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.C_.delete(a),s.O_.removeTarget(a))}(e,t)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Wu(e,r)}else if(t instanceof Qs?e.O_.$e(t):t instanceof op?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(G.min()))try{const r=await gp(e.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.O_.it(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=i.C_.get(l);u&&i.C_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const u=i.C_.get(c);if(!u)return;i.C_.set(c,u.withResumeToken(Qt.EMPTY_BYTE_STRING,u.snapshotVersion)),Ep(i,c);const h=new Ze(u.target,c,l,u.sequenceNumber);Kc(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){V("RemoteStore","Failed to raise snapshot:",r),await Wu(e,r)}}async function Wu(e,t,n){if(!Is(t))throw t;e.v_.add(1),await Rs(e),e.x_.set("Offline"),n||(n=()=>gp(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{V("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await ao(e)})}async function Qu(e,t){const n=ot(e);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");const r=Cs(n);n.v_.add(3),await Rs(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await ao(n)}async function d0(e,t){const n=ot(e);t?(n.v_.delete(2),await ao(n)):t||(n.v_.add(2),await Rs(n),n.x_.set("Unknown"))}function Er(e){return e.N_||(e.N_=function(n,r,s){const i=ot(n);return i.R_(),new o0(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(e.datastore,e.asyncQueue,{Po:u0.bind(null,e),To:h0.bind(null,e),u_:f0.bind(null,e)}),e.F_.push(async t=>{t?(e.N_.Zo(),Wc(e)?Gc(e):e.x_.set("Unknown")):(await e.N_.stop(),Tp(e))})),e.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,n,r,s,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new je,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,s,i){const o=Date.now()+r,a=new Qc(t,n,o,s,i);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(C.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wp(e,t){if(Oe("AsyncQueue",`${t}: ${e}`),Is(e))return new L(C.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t){this.comparator=t?(n,r)=>t(n,r)||$.comparator(n.key,r.key):(n,r)=>$.comparator(n.key,r.key),this.keyedMap=Vr(),this.sortedSet=new At(this.comparator)}static emptySet(t){return new er(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof er)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new er;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(){this.L_=new At($.comparator)}track(t){const n=t.doc.key,r=this.L_.get(n);r?t.type!==0&&r.type===3?this.L_=this.L_.insert(n,t):t.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.L_=this.L_.remove(n):t.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:t.doc}):Y():this.L_=this.L_.insert(n,t)}k_(){const t=[];return this.L_.inorderTraversal((n,r)=>{t.push(r)}),t}}class fr{constructor(t,n,r,s,i,o,a,c,l){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(t,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new fr(t,n,er.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&no(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this.q_=void 0,this.Q_=[]}}class g0{constructor(){this.queries=new vr(t=>Yd(t),no),this.onlineState="Unknown",this.K_=new Set}}async function Ip(e,t){const n=ot(e),r=t.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new p0),s)try{i.q_=await n.onListen(r)}catch(o){const a=wp(o,`Initialization of query '${qn(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,i),i.Q_.push(t),t.U_(n.onlineState),i.q_&&t.W_(i.q_)&&Yc(n)}async function Ap(e,t){const n=ot(e),r=t.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.Q_.indexOf(t);o>=0&&(i.Q_.splice(o,1),s=i.Q_.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function m0(e,t){const n=ot(e);let r=!1;for(const s of t){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Q_)a.W_(s)&&(r=!0);o.q_=s}}r&&Yc(n)}function _0(e,t,n){const r=ot(e),s=r.queries.get(t);if(s)for(const i of s.Q_)i.onError(n);r.queries.delete(t)}function Yc(e){e.K_.forEach(t=>{t.next()})}class Rp{constructor(t,n,r){this.query=t,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new fr(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.z_?this.H_(t)&&(this.G_.next(t),n=!0):this.J_(t,this.onlineState)&&(this.Y_(t),n=!0),this.j_=t,n}onError(t){this.G_.error(t)}U_(t){this.onlineState=t;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,t)&&(this.Y_(this.j_),n=!0),n}J_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}H_(t){if(t.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(t){t=fr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.z_=!0,this.G_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(t){this.key=t}}class Sp{constructor(t){this.key=t}}class y0{constructor(t,n){this.query=t,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=st(),this.mutatedKeys=st(),this.ua=Xd(t),this.ca=new er(this.ua)}get la(){return this.oa}ha(t,n){const r=n?n.Pa:new Yu,s=n?n.ca:this.ca;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,l=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((u,h)=>{const d=s.get(u),g=ro(this.query,h)?h:null,w=!!d&&this.mutatedKeys.has(d.key),S=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let I=!1;d&&g?d.data.isEqual(g.data)?w!==S&&(r.track({type:3,doc:g}),I=!0):this.Ia(d,g)||(r.track({type:2,doc:g}),I=!0,(c&&this.ua(g,c)>0||l&&this.ua(g,l)<0)&&(a=!0)):!d&&g?(r.track({type:0,doc:g}),I=!0):d&&!g&&(r.track({type:1,doc:d}),I=!0,(c||l)&&(a=!0)),I&&(g?(o=o.add(g),i=S?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{ca:o,Pa:r,Xi:a,mutatedKeys:i}}Ia(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,s){const i=this.ca;this.ca=t.ca,this.mutatedKeys=t.mutatedKeys;const o=t.Pa.k_();o.sort((u,h)=>function(g,w){const S=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return S(g)-S(w)}(u.type,h.type)||this.ua(u.doc,h.doc)),this.Ta(r),s=s!=null&&s;const a=n&&!s?this.Ea():[],c=this.aa.size===0&&this.current&&!s?1:0,l=c!==this._a;return this._a=c,o.length!==0||l?{snapshot:new fr(this.query,t.ca,i,o,t.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Yu,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(t){return!this.oa.has(t)&&!!this.ca.has(t)&&!this.ca.get(t).hasLocalMutations}Ta(t){t&&(t.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=t.current)}Ea(){if(!this.current)return[];const t=this.aa;this.aa=st(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return t.forEach(r=>{this.aa.has(r)||n.push(new Sp(r))}),this.aa.forEach(r=>{t.has(r)||n.push(new Cp(r))}),n}Ra(t){this.oa=t.hs,this.aa=st();const n=this.ha(t.documents);return this.applyChanges(n,!0)}Va(){return fr.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class v0{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class E0{constructor(t){this.key=t,this.ma=!1}}class T0{constructor(t,n,r,s,i,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new vr(a=>Yd(a),no),this.pa=new Map,this.ya=new Set,this.wa=new At($.comparator),this.Sa=new Map,this.ba=new qc,this.Da={},this.Ca=new Map,this.va=hr.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function w0(e,t){const n=b0(e);let r,s;const i=n.ga.get(t);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Va();else{const o=await Jw(n.localStore,De(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await I0(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&yp(n.remoteStore,o)}return s}async function I0(e,t,n,r,s){e.Ma=(h,d,g)=>async function(S,I,N,F){let U=I.view.ha(N);U.Xi&&(U=await zu(S.localStore,I.query,!1).then(({documents:gt})=>I.view.ha(gt,U)));const W=F&&F.targetChanges.get(I.targetId),X=F&&F.targetMismatches.get(I.targetId)!=null,q=I.view.applyChanges(U,S.isPrimaryClient,W,X);return Ju(S,I.targetId,q.da),q.snapshot}(e,h,d,g);const i=await zu(e.localStore,t,!0),o=new y0(t,i.hs),a=o.ha(i.documents),c=As.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",s),l=o.applyChanges(a,e.isPrimaryClient,c);Ju(e,n,l.da);const u=new v0(t,n,o);return e.ga.set(t,u),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),l.snapshot}async function A0(e,t){const n=ot(e),r=n.ga.get(t),s=n.pa.get(r.targetId);if(s.length>1)return n.pa.set(r.targetId,s.filter(i=>!no(i,t))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await xa(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),vp(n.remoteStore,r.targetId),Na(n,r.targetId)}).catch(Vc)):(Na(n,r.targetId),await xa(n.localStore,r.targetId,!0))}async function Pp(e,t){const n=ot(e);try{const r=await Yw(n.localStore,t);t.targetChanges.forEach((s,i)=>{const o=n.Sa.get(i);o&&(St(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.ma=!0:s.modifiedDocuments.size>0?St(o.ma):s.removedDocuments.size>0&&(St(o.ma),o.ma=!1))}),await Vp(n,r,t)}catch(r){await Vc(r)}}function Xu(e,t,n){const r=ot(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ga.forEach((i,o)=>{const a=o.view.U_(t);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=ot(o);c.onlineState=a;let l=!1;c.queries.forEach((u,h)=>{for(const d of h.Q_)d.U_(a)&&(l=!0)}),l&&Yc(c)}(r.eventManager,t),s.length&&r.fa.u_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function R0(e,t,n){const r=ot(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Sa.get(t),i=s&&s.key;if(i){let o=new At($.comparator);o=o.insert(i,zt.newNoDocument(i,G.min()));const a=st().add(i),c=new oo(G.min(),new Map,new At(ut),o,a);await Pp(r,c),r.wa=r.wa.remove(i),r.Sa.delete(t),Xc(r)}else await xa(r.localStore,t,!1).then(()=>Na(r,t,n)).catch(Vc)}function Na(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach(r=>{e.ba.containsKey(r)||bp(e,r)})}function bp(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);n!==null&&(vp(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),Xc(e))}function Ju(e,t,n){for(const r of n)r instanceof Cp?(e.ba.addReference(r.key,t),C0(e,r)):r instanceof Sp?(V("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||bp(e,r.key)):Y()}function C0(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(V("SyncEngine","New document in limbo: "+n),e.ya.add(r),Xc(e))}function Xc(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new $(Tt.fromString(t)),r=e.va.next();e.Sa.set(r,new E0(n)),e.wa=e.wa.insert(n,r),yp(e.remoteStore,new Ze(De(Bc(n.path)),r,"TargetPurposeLimboResolution",Nc._e))}}async function Vp(e,t,n){const r=ot(e),s=[],i=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,c)=>{o.push(r.Ma(c,t,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l!=null&&l.fromCache?"not-current":"current"),l){s.push(l);const u=zc.Ki(c.targetId,l);i.push(u)}}))}),await Promise.all(o),r.fa.u_(s),await async function(c,l){const u=ot(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>E.forEach(l,d=>E.forEach(d.qi,g=>u.persistence.referenceDelegate.addReference(h,d.targetId,g)).next(()=>E.forEach(d.Qi,g=>u.persistence.referenceDelegate.removeReference(h,d.targetId,g)))))}catch(h){if(!Is(h))throw h;V("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const d=h.targetId;if(!h.fromCache){const g=u.ns.get(d),w=g.snapshotVersion,S=g.withLastLimboFreeSnapshotVersion(w);u.ns=u.ns.insert(d,S)}}}(r.localStore,i))}async function S0(e,t){const n=ot(e);if(!n.currentUser.isEqual(t)){V("SyncEngine","User change. New user:",t.toKey());const r=await pp(n.localStore,t);n.currentUser=t,function(i,o){i.Ca.forEach(a=>{a.forEach(c=>{c.reject(new L(C.CANCELLED,o))})}),i.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Vp(n,r.us)}}function P0(e,t){const n=ot(e),r=n.Sa.get(t);if(r&&r.ma)return st().add(r.key);{let s=st();const i=n.pa.get(t);if(!i)return s;for(const o of i){const a=n.ga.get(o);s=s.unionWith(a.view.la)}return s}}function b0(e){const t=ot(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Pp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=P0.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=R0.bind(null,t),t.fa.u_=m0.bind(null,t.eventManager),t.fa.xa=_0.bind(null,t.eventManager),t}class Zu{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=mp(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return Qw(this.persistence,new Gw,t.initialUser,this.serializer)}createPersistence(t){return new Hw(Hc.Hr,this.serializer)}createSharedClientState(t){return new t0}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class V0{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Xu(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=S0.bind(null,this.syncEngine),await d0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new g0}()}createDatastore(t){const n=mp(t.databaseInfo.databaseId),r=function(i){return new s0(i)}(t.databaseInfo);return function(i,o,a,c){return new a0(i,o,a,c)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,s,i,o,a){return new l0(r,s,i,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Xu(this.syncEngine,n,0),function(){return Gu.D()?new Gu:new e0}())}createSyncEngine(t,n){return function(s,i,o,a,c,l,u){const h=new T0(s,i,o,a,c,l);return u&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(r){const s=ot(r);V("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await Rs(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ba(this.observer.next,t)}error(t){this.observer.error?this.Ba(this.observer.error,t):Oe("Uncaught Error in snapshot listener:",t.toString())}La(){this.muted=!0}Ba(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(t,n,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ht.UNAUTHENTICATED,this.clientId=$d.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{V("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(V("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new je;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=wp(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Bo(e,t){e.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async s=>{r.isEqual(s)||(await pp(t.localStore,s),r=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function th(e,t){e.asyncQueue.verifyOperationInProgress();const n=await N0(e);V("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>Qu(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,s)=>Qu(t.remoteStore,s)),e._onlineComponents=t}function x0(e){return e.name==="FirebaseError"?e.code===C.FAILED_PRECONDITION||e.code===C.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function N0(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bo(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!x0(n))throw n;ar("Error using user provided cache. Falling back to memory cache: "+n),await Bo(e,new Zu)}}else V("FirestoreClient","Using default OfflineComponentProvider"),await Bo(e,new Zu);return e._offlineComponents}async function O0(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),await th(e,e._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),await th(e,new V0))),e._onlineComponents}async function xp(e){const t=await O0(e),n=t.eventManager;return n.onListen=w0.bind(null,t.syncEngine),n.onUnlisten=A0.bind(null,t.syncEngine),n}function k0(e,t,n={}){const r=new je;return e.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,l){const u=new Dp({next:d=>{o.enqueueAndForget(()=>Ap(i,h));const g=d.docs.has(a);!g&&d.fromCache?l.reject(new L(C.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&d.fromCache&&c&&c.source==="server"?l.reject(new L(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),h=new Rp(Bc(a.path),u,{includeMetadataChanges:!0,Z_:!0});return Ip(i,h)}(await xp(e),e.asyncQueue,t,n,r)),r.promise}function M0(e,t,n={}){const r=new je;return e.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,l){const u=new Dp({next:d=>{o.enqueueAndForget(()=>Ap(i,h)),d.fromCache&&c.source==="server"?l.reject(new L(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),h=new Rp(a,u,{includeMetadataChanges:!0,Z_:!0});return Ip(i,h)}(await xp(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(e,t,n){if(!n)throw new L(C.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function L0(e,t,n,r){if(t===!0&&r===!0)throw new L(C.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function nh(e){if(!$.isDocumentKey(e))throw new L(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function rh(e){if($.isDocumentKey(e))throw new L(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function F0(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Y()}function fs(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new L(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=F0(e);throw new L(C.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new L(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new L(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}L0("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Np((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new L(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new L(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new L(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class co{constructor(t,n,r,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new L(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sh(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gT;switch(r.type){case"firstParty":return new vT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=eh.get(n);r&&(V("ComponentProvider","Removing Datastore"),eh.delete(n),r.terminate())}(this),Promise.resolve()}}function B0(e,t,n,r={}){var s;const i=(e=fs(e,co))._getSettings(),o=`${t}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&ar("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Ht.MOCK_USER;else{a=ky(r.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new L(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ht(l)}e._authCredentials=new mT(new jd(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new lo(this.firestore,t,this._query)}}class xe{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new on(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xe(this.firestore,t,this._key)}}class on extends lo{constructor(t,n,r){super(t,n,Bc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xe(this.firestore,null,new $(t))}withConverter(t){return new on(this.firestore,t,this._path)}}function U0(e,t,...n){if(e=Vf(e),Op("collection","path",t),e instanceof co){const r=Tt.fromString(t,...n);return rh(r),new on(e,null,r)}{if(!(e instanceof xe||e instanceof on))throw new L(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Tt.fromString(t,...n));return rh(r),new on(e.firestore,null,r)}}function TI(e,t,...n){if(e=Vf(e),arguments.length===1&&(t=$d.newId()),Op("doc","path",t),e instanceof co){const r=Tt.fromString(t,...n);return nh(r),new xe(e,null,new $(r))}{if(!(e instanceof xe||e instanceof on))throw new L(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Tt.fromString(t,...n));return nh(r),new xe(e.firestore,e instanceof on?e.converter:null,new $(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new _p(this,"async_queue_retry"),this._u=()=>{const n=Fo();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const t=Fo();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.au(),this.uu(t)}enterRestrictedMode(t){if(!this.tu){this.tu=!0,this.su=t||!1;const n=Fo();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(t){if(this.au(),this.tu)return new Promise(()=>{});const n=new je;return this.uu(()=>this.tu&&this.su?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.eu.push(t),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(t){if(!Is(t))throw t;V("AsyncQueue","Operation failed with retryable error: "+t)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(t){const n=this.Xa.then(()=>(this.iu=!0,t().catch(r=>{this.ru=r,this.iu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Oe("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(t,n,r){this.au(),this.ou.indexOf(t)>-1&&(n=0);const s=Qc.createAndSchedule(this,t,n,r,i=>this.lu(i));return this.nu.push(s),s}au(){this.ru&&Y()}verifyOperationInProgress(){}async hu(){let t;do t=this.Xa,await t;while(t!==this.Xa)}Pu(t){for(const n of this.nu)if(n.timerId===t)return!0;return!1}Iu(t){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.hu()})}Tu(t){this.ou.push(t)}lu(t){const n=this.nu.indexOf(t);this.nu.splice(n,1)}}class Jc extends co{constructor(t,n,r,s){super(t,n,r,s),this.type="firestore",this._queue=function(){return new j0}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Mp(this),this._firestoreClient.terminate()}}function $0(e,t){const n=typeof e=="object"?e:Uv(),r=typeof e=="string"?e:t||"(default)",s=Mv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Ny("firestore");i&&B0(s,...i)}return s}function kp(e){return e._firestoreClient||Mp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Mp(e){var t,n,r;const s=e._freezeSettings(),i=function(a,c,l,u){return new NT(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Np(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new D0(e._authCredentials,e._appCheckCredentials,e._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new vi(Qt.fromBase64String(t))}catch(n){throw new L(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new vi(Qt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new L(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new L(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new L(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ut(this._lat,t._lat)||ut(this._long,t._long)}}const H0=new RegExp("[~\\*/\\[\\]]");function z0(e,t,n){if(t.search(H0)>=0)throw ih(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Lp(...t.split("."))._internalPath}catch{throw ih(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ih(e,t,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new L(C.INVALID_ARGUMENT,a+e+c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(t,n,r,s,i){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new K0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Bp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class K0 extends Fp{data(){return super.data()}}function Bp(e,t){return typeof t=="string"?z0(e,t):t instanceof Lp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new L(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class W0{convertValue(t,n="none"){switch(xn(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ct(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Dn(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Y()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return to(t,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(t){return new q0(Ct(t.latitude),Ct(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=kc(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ls(t));default:return null}}convertTimestamp(t){const n=ln(t);return new re(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Tt.fromString(t);St(dp(r));const s=new us(r.get(1),r.get(3)),i=new $(r.popFirst(5));return s.isEqual(n)||Oe(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Up extends Fp{constructor(t,n,r,s,i,o){super(t,n,r,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ys(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Bp("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ys extends Up{data(t={}){return super.data(t)}}class Q0{constructor(t,n,r,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new xr(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Ys(this._firestore,this._userDataWriter,r.key,r,new xr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new Ys(s._firestore,s._userDataWriter,a.doc.key,a.doc,new xr(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new Ys(s._firestore,s._userDataWriter,a.doc.key,a.doc,new xr(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,u=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Y0(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Y0(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(e){e=fs(e,xe);const t=fs(e.firestore,Jc);return k0(kp(t),e._key).then(n=>J0(t,e,n))}class jp extends W0{constructor(t){super(),this.firestore=t}convertBytes(t){return new vi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new xe(this.firestore,null,n)}}function X0(e){e=fs(e,lo);const t=fs(e.firestore,Jc),n=kp(t),r=new jp(t);return G0(e._query),M0(n,e._query).then(s=>new Q0(t,r,e,s))}function J0(e,t,n){const r=n.docs.get(t._key),s=new jp(e);return new Up(e,s,t._key,r,new xr(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(s){yr=s})(Bv),ci(new Jr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Jc(new _T(r.getProvider("auth-internal")),new TT(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new us(l.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Xn(Au,"4.4.1",t),Xn(Au,"4.4.1","esm2017")})();const Z0={components:{SmallCard:cE},data(){return{cards:[],page:1,cardsPerPage:3}},methods:{handleCardClick(){this.$emit("cardClick",this.card)},async fetchCards(){const e=Zv();console.log(e);const t=$0(e);try{(await X0(U0(t,"cards"))).forEach(r=>{this.cards.push({...r.data(),id:r.id})}),console.log(this.cards)}catch(n){console.error("Error fetching cards:",n)}},previousPage(){this.page>1&&(this.page-=1)},nextPage(){this.page<this.totalPages&&(this.page+=1)}},mounted(){this.fetchCards()},computed:{totalPages(){return Math.ceil(this.cards.length/this.cardsPerPage)},visibleCardsIndices(){const e=(this.page-1)*this.cardsPerPage,t=e+this.cardsPerPage;return Array.from({length:this.cards.length},(n,r)=>r).slice(e,t)}}},tI=e=>(Og("data-v-2287268d"),e=e(),kg(),e),eI={class:"list-cards"},nI=tI(()=>ce("h1",null,"Click on the card names to find out more",-1)),rI={class:"cards"},sI={class:"page-switches"},iI=["disabled"],oI=["disabled"],aI={class:"range-wrapper"},cI=["max"];function lI(e,t,n,r,s,i){const o=Ja("SmallCard");return Yn(),ni("div",eI,[nI,ce("div",rI,[(Yn(!0),ni(Ae,null,om(i.visibleCardsIndices,a=>(Yn(),sf(o,{key:a,card:s.cards[a],onCardClick:i.handleCardClick},null,8,["card","onCardClick"]))),128))]),ce("div",sI,[ce("button",{onClick:t[0]||(t[0]=(...a)=>i.previousPage&&i.previousPage(...a)),disabled:s.page===1},"Previous",8,iI),ce("span",null,"Page "+Ua(s.page),1),ce("button",{onClick:t[1]||(t[1]=(...a)=>i.nextPage&&i.nextPage(...a)),disabled:s.page===i.totalPages},"Next",8,oI)]),ce("div",aI,[Gg(ce("input",{type:"range",min:"1",max:i.totalPages,"onUpdate:modelValue":t[2]||(t[2]=a=>s.page=a)},null,8,cI),[[c_,s.page,void 0,{number:!0}]])])])}const uI=Mi(Z0,[["render",lI],["__scopeId","data-v-2287268d"]]),hI=T_({id:"cards",state:()=>({totalCardsClicked:0}),actions:{incrementTotalCardsClicked(){this.totalCardsClicked+=1}}}),fI={components:{CardList:uI},setup(){const e=hI();return{totalCardsClicked:e.totalCardsClicked,incrementTotalCardsClicked:e.incrementTotalCardsClicked}}},dI={class:"home-page"};function pI(e,t,n,r,s,i){const o=Ja("CardList");return Yn(),ni("div",dI,[ce("h1",null,"Total cards clicked: "+Ua(r.totalCardsClicked),1),ne(o,{onCardClick:r.incrementTotalCardsClicked},null,8,["onCardClick"])])}const gI=Mi(fI,[["render",pI]]),mI=wy({history:B_("/"),routes:[{path:"/",name:"home",component:gI},{path:"/card/:id",name:"card",component:()=>lu(()=>import("./CardView-SkT9x3cA.js"),__vite__mapDeps([0,1]))},{path:"/:catchAll(.*)",name:"404",component:()=>lu(()=>import("./NotFoundView-1rkdW863.js"),__vite__mapDeps([2,3]))}]}),Zc=h_(eE);Zc.use(g_());Zc.use(mI);Zc.mount("#app");export{yy as R,Mi as _,ce as a,wI as b,ni as c,TI as d,ne as e,bm as f,$0 as g,Zv as h,Yn as o,Ja as r,Ua as t,_I as u,Uh as w};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/CardView-SkT9x3cA.js","assets/CardView-Fh6PDgGI.css","assets/NotFoundView-1rkdW863.js","assets/NotFoundView-ug8e6cRs.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
